<!-- build time:Sat Apr 02 2022 20:04:21 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="年没怀念der博客" href="http://example.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="年没怀念der博客" href="http://example.com/atom.xml"><link rel="alternate" type="application/json" title="年没怀念der博客" href="http://example.com/feed.json"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="exp8"><link rel="canonical" href="http://example.com/2021/12/06/21-12-6-Database-exp-8/"><title>21/12/6 Database exp 8 - 数据库 - 大三 | Nmhn = 年没怀念 der 博客</title><meta name="generator" content="Hexo 5.4.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">21/12/6 Database exp 8</h1><div class="meta"><span class="item" title="Created: 2021-12-06 19:09:47"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">Posted on</span> <time itemprop="dateCreated datePublished" datetime="2021-12-06T19:09:47+08:00">2021-12-06</time> </span><span class="item" title="Symbols count in article"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">Symbols count in article</span> <span>7.3k</span> <span class="text">words</span> </span><span class="item" title="Reading time"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">Reading time</span> <span>7 mins.</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="Toggle navigation bar"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Nmhn</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://s2.loli.net/2021/12/07/DYvEro1mqM3hz4U.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2021/12/07/oV16fUHbjAZgq5l.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2021/12/07/RJNiW2SEtOP1BTD.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2021/12/07/tser9TpwMDN6vZq.png"></li><li class="item" data-background-image="https://s2.loli.net/2021/12/07/fC2K5xBpaLIyEP1.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2021/12/07/yqMesoWNwGX1VKz.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">Home</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/junior/" itemprop="item" rel="index" title="In 大三"><span itemprop="name">大三</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/junior/database/" itemprop="item" rel="index" title="In 数据库"><span itemprop="name">数据库</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="en"><link itemprop="mainEntityOfPage" href="http://example.com/2021/12/06/21-12-6-Database-exp-8/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="nmhn"><meta itemprop="description" content=", "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="年没怀念 der 博客"></span><div class="body md" itemprop="articleBody"><ol><li><h1 id="分析系统功能"><a class="anchor" href="#分析系统功能">#</a> 分析系统功能</h1><ol><li><h2 id="er图"><a class="anchor" href="#er图">#</a> ER 图</h2><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120140233739.png" alt="image-20211120140233739"></p></li><li><h2 id="关系模型"><a class="anchor" href="#关系模型">#</a> 关系模型</h2><ol><li><h3 id="对象的属性描述"><a class="anchor" href="#对象的属性描述">#</a> 对象的属性描述</h3><p>客户 (&lt;u&gt; 客户编号 &lt;/u&gt;, 电子邮箱，登录密码，身份证，联系方式，姓名)<br>银行卡 (&lt;u&gt; 卡号 &lt;/u&gt;, 类型，客户编号)<br>理财产品 (&lt;u&gt; 理财产品编号 &lt;/u&gt;, 理财年限，购买金额，产品名称，产品描述)<br>基金 (&lt;u&gt; 基金编号 &lt;/u&gt;, 基金名称，基金类型，风险等级，基金管理者，基金金额)<br>保险 (&lt;u&gt; 保险编号 &lt;/u&gt;, 保险名称，适用人群，保险项目，保险金额，保险年限)<br>资产 (&lt;u&gt; 客户编号 &lt;/u&gt;,&lt;u &gt; 资产编号 &lt;/u&gt;, 状态，购买数量，收益，购买时间)</p></li><li><h3 id="对象之间关系描述"><a class="anchor" href="#对象之间关系描述">#</a> 对象之间关系描述</h3><p>一个客户可以购买多种理财产品<br>可以办理多张银行卡<br>一个客户可以购买多种保险<br>一个客户可以购买多种基金<br><img data-src="https://s2.loli.net/2021/12/09/GWJFoN89vZrIOtc.png" alt="image-20211120145443968"></p></li></ol></li></ol></li><li><h2 id="物理设计与数据字典"><a class="anchor" href="#物理设计与数据字典">#</a> 物理设计与数据字典</h2><ol><li><h3 id="表及其属性"><a class="anchor" href="#表及其属性">#</a> 表及其属性</h3><p>client(c_id,c_name,c_mail,c_id_card,c_phone,c_password)<br>bank_card(b_id,b_type,b_c_id)<br>property(p_id,p_c_id,p_i_id,p_status,p_amount,p_get_time,p_income,p_type)<br>fund(f_name,f_id,f_type,f_amount,risk_level,f_manager)<br>insurance(i_name,i_id,i_amount,i_person,i_year,i_project)<br>f_product(fp_id,fp_name，fp_description，fp_amount，fp_year)</p></li><li><h3 id="数据字典"><a class="anchor" href="#数据字典">#</a> 数据字典</h3><ol><li><h4 id="表1-1-client表"><a class="anchor" href="#表1-1-client表">#</a> 表 1-1 client 表</h4><table><thead><tr><th><strong>字段名称</strong></th><th><strong>字段类型</strong></th><th><strong>约束</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>c_id</td><td>INTEGER</td><td>PRIMARY KEY</td><td>客户编码</td></tr><tr><td>c_name</td><td>VARCHAR(100)</td><td>NOT NULL</td><td>客户名称</td></tr><tr><td>c_mail</td><td>CHAR(30)</td><td>UNIQUE</td><td>客户邮箱</td></tr><tr><td>c_id_card</td><td>CHAR(20)</td><td>UNIQUE NOT NULL</td><td>客户身份证</td></tr><tr><td>c_phone</td><td>CHAR(20)</td><td>UNIQUE NOT NULL</td><td>客户手机号</td></tr><tr><td>c_password</td><td>CHAR(20)</td><td>NOT NULL</td><td>客户登录密码</td></tr></tbody></table></li><li><h4 id="表1-2bank_card表"><a class="anchor" href="#表1-2bank_card表">#</a> 表 1-2bank_card 表</h4><table><thead><tr><th><strong>字段名称</strong></th><th><strong>字段类型</strong></th><th><strong>约束</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>b_id</td><td>INTEGER</td><td>PRIMARY KEY</td><td>银行卡号</td></tr><tr><td>b_type</td><td>CHAR(20)</td><td>NOT NULL</td><td>银行卡类型</td></tr><tr><td>b_c_id</td><td>INTERGER</td><td>NOT NULL &lt;br /&gt;FOREIGNKEY</td><td>客户编号</td></tr></tbody></table></li><li><h4 id="表1-3-property资产表"><a class="anchor" href="#表1-3-property资产表">#</a> 表 1-3 property 资产表</h4><table><thead><tr><th><strong>字段名称</strong></th><th><strong>字段类型</strong></th><th><strong>约束</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>p_id</td><td>INTEGER</td><td>PRIMARY KEY</td><td>资产编号</td></tr><tr><td>p_c_id</td><td>INTEGER</td><td>NOT NULL&lt;br /&gt;FOREIGN KEY</td><td>客户编号 &lt;br /&gt; 外键，对应 client 中的 c_id</td></tr><tr><td>p_i_id</td><td>INTEGER</td><td>NOT NULL&lt;br /&gt;FOREIGN KEY</td><td>商品编号，对应三种产品的 id</td></tr><tr><td>p_status</td><td>CHAR(20)</td><td>NOT NULL</td><td>状态</td></tr><tr><td>p_amount</td><td>INTERGER</td><td>NOT NULL</td><td>购买数量</td></tr><tr><td>p_get_time</td><td>DATE</td><td>NOT NULL</td><td>购买时间</td></tr><tr><td>p_income</td><td>INTERGER</td><td></td><td>收益</td></tr><tr><td>p_type</td><td>INTERGER</td><td>NOT NULL</td><td>1 代表是理财产品，2 代表保险，3 代表基金</td></tr></tbody></table></li><li><h4 id="表1-4-f_products-理财产品表"><a class="anchor" href="#表1-4-f_products-理财产品表">#</a> 表 1-4 f_products 理财产品表</h4><table><thead><tr><th><strong>字段名称</strong></th><th><strong>字段类型</strong></th><th><strong>约束</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>fp_id</td><td>INTEGER</td><td>PRIMARY KEY</td><td>理财产品编号</td></tr><tr><td>fp_year</td><td>INTEGER</td><td></td><td>理财年限</td></tr><tr><td>fp_amount</td><td>INTERGER</td><td></td><td>购买金额</td></tr><tr><td>fp_name</td><td>VARCHAR(200)</td><td>NOT NULL</td><td>产品名称</td></tr><tr><td>fp_description</td><td>VARCHAR(2000)</td><td>NOT NULL</td><td>产品描述</td></tr></tbody></table></li><li><h4 id="表1-5-insurance-保险表"><a class="anchor" href="#表1-5-insurance-保险表">#</a> 表 1-5 insurance 保险表</h4><table><thead><tr><th><strong>字段名称</strong></th><th><strong>字段类型</strong></th><th><strong>约束</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>i_id</td><td>INTEGER</td><td>PRIMARY KEY</td><td>保险编号</td></tr><tr><td>i_name</td><td>VARCHAR(100)</td><td>NOT NULL</td><td>保险名称</td></tr><tr><td>i_person</td><td>CHAR(30)</td><td></td><td>适用人群</td></tr><tr><td>i_project</td><td>VARCHAR(200)</td><td></td><td>保险项目</td></tr><tr><td>i_amount</td><td>INTERGER</td><td></td><td>保险金额</td></tr><tr><td>i_year</td><td>CHAR(20)</td><td>NOT NULL</td><td>保险年限</td></tr></tbody></table></li><li><h4 id="表1-6-fund基金表"><a class="anchor" href="#表1-6-fund基金表">#</a> 表 1-6 fund 基金表</h4><table><thead><tr><th><strong>字段名称</strong></th><th><strong>字段类型</strong></th><th><strong>约束</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>f_id</td><td>INTEGER</td><td>PRIMARY KEY</td><td>基金编号</td></tr><tr><td>f_name</td><td>VARCHAR(100)</td><td>NOT NULL</td><td>基金名称</td></tr><tr><td>f_type</td><td>CHAR(30)</td><td></td><td>基金类型</td></tr><tr><td>f_risk</td><td>INTERGER</td><td></td><td>风险等级</td></tr><tr><td>f_manager</td><td>INTERGER</td><td>NOT NULL</td><td>基金管理者</td></tr><tr><td>f_amount</td><td>INTERGER</td><td>NOT NULL</td><td>基金金额</td></tr></tbody></table></li></ol></li></ol></li><li><p>创建数据库表</p><ol><li><p>创建 finance 数据库作为项目数据库，数据库编码为 UTF-8。（2 分）</p><ol><li>切换到 omm 用户<br><img data-src="https://s2.loli.net/2021/12/09/yJSHvBaYepFU83W.png" alt="image-20211120152854123"></li><li>启动数据库服务<br><img data-src="https://s2.loli.net/2021/12/09/kOvdCNXzeJ2Im7t.png" alt="image-20211120152924367"></li><li>登入 postres 数据库 (为了在里面创建新的数据库)<br><img data-src="https://s2.loli.net/2021/12/09/XfdWZDU6QnklebY.png" alt="image-20211120152949937"></li><li>创建 finance 数据库，设置编码为 UTF-8<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120153159839.png" alt="image-20211120153159839"></li></ol></li><li><p>连接 finance 数据库，创建名为 finance 的 schema，并设置 finance 为当前的 schema。（2 分）</p><ol><li>连接 finance 数据库<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120153222258.png" alt="image-20211120153222258"></li><li>创建名为 finance 的 schema，并设置 finance 为当前的 schema<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120153259340.png" alt="image-20211120153259340"></li></ol></li><li><p>在 finance 模式下完成金融管理系统中所有数据库对象（数据表）的创建，并完成数据的填充。其中客户数据不少于 20 条，银行卡数据不少于 10 条，其他数据不少于 5 条；（6 分）</p><ol><li><p>数据表创建</p><ol><li><p>客户表创建</p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120162145657.png" alt="image-20211120162145657"></p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120162136314.png" alt="image-20211120162136314"></p></li><li><p>银行卡表创建<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120161519458.png" alt="image-20211120161519458"><br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120161510470.png" alt="image-20211120161510470"></p></li><li><p>理财产品表创建<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120161622995.png" alt="image-20211120161622995"></p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120161716375.png" alt="image-20211120161716375"></p></li><li><p>保险信息表创建</p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120161636166.png" alt="image-20211120161636166"><br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120161724463.png" alt="image-20211120161724463"></p></li><li><p>基金信息表创建</p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120161645388.png" alt="image-20211120161645388"></p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120161745238.png" alt="image-20211120161745238"></p></li><li><p>资产信息表创建</p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120161659959.png" alt="image-20211120161659959"></p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120161759138.png" alt="image-20211120161759138"></p></li></ol></li><li><p>添加数据</p><ol><li><p>客户信息添加<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120163251246.png" alt="image-20211120163251246"></p></li><li><p>银行卡数据填充<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120163727388.png" alt="image-20211120163727388"></p></li><li><p>理财产品填充</p><p>INSERT INTO finance.f_products</p><p>(fp_id ,fp_year ,fp_amount ,fp_name ,fp_description ) VALUES</p><p>(1 ,2 ,4000000 ,' 储蓄 ' ,' 储蓄理财产品 '),</p><p>(2 ,1 ,3000 ,' 债券 ' ,' 债券是政府、企业、银行等债务人为筹集资金，按照法定程序发行并向债权人承诺于指定日期还本付息的有价证券 '),</p><p>(3 ,1 ,200000 ,' 股票 ' ,' 股份公司为筹集资金而发行给各个股东作为持股凭证并借以取得股息和红利的一种有价证券 '),</p><p>(4 ,3 ,2000 ,' 国债 ' ,' 国家以其信用为基础，按照债的一般原则，通过向社会筹集资金所形成的债权债务关系 '),</p><p>(5 ,2 ,10000 ,' 大宗商品 ' ,' 与大宗商品期货挂钩的理财产品。目前市场上主要以挂钩黄金、石油、农产品的理财产品居多 ')<img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120174858479.png" alt="image-20211120174858479"></p></li><li><p>保险产品填充</p><p>INSERT INTO finance.insurance(i_name,i_id,i_amount,i_person,i_year,i_project) VALUES</p><p>(' 意外保险 ',3,5000,' 所有人 ',20,' 平安保险 '),</p><p>(' 医疗保险 ',4,2000,' 所有人 ',20,' 平安保险 '),</p><p>(' 健康保险 ',1,2000,' 老年人 ',10,' 平安保险 '),</p><p>(' 人寿保险 ',2,3000,' 老年人 ',10,' 平安保险 '),</p><p>(' 财产损失保险 ',5,1500,' 中年人 ',3,' 平安保险 ');<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120175159475.png" alt="image-20211120175159475"></p></li><li><p>基金表格填充</p><p>INSERT INTO finance.fund (f_id,fp_name,f_type,f_risk,f_manager,f_amount) VALUES</p><p>(1,' 股票基金 ',' 股票型 ',3,1,200000),</p><p>(2,' 债券基金 ',' 债券型 ',2,2,3000),</p><p>(3,' 投资基金 ',' 债券型 ',3,2,1000),</p><p>(4,' 国债 ',' 货币型 ',1,4,2000),</p><p>(5,' 期货 ',' 期货型 ',2,5,1500);</p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120180449122.png" alt="image-20211120180449122"></p></li><li><p>资产表格填充</p><p>INSERT INTO finance.property</p><p>(p_id , p_c_id ,p_i_id , p_status , p_amount ,p_get_time ,p_income ,p_type ) VALUES</p><p>(1 ,1 ,1 ,' 可用 ' ,100 ,'2021-11-20' ,2000 ,1),</p><p>(2 ,1 ,2 ,' 可用 ' ,100 ,'2021-11-21' ,3020 ,1),</p><p>(3 ,1 ,1 ,' 冻结 ' ,100 ,'2021-11-20' ,2000 ,2),</p><p>(4 ,1 ,4 ,' 可用 ' ,101 ,'2021-11-10' ,3000 ,3),</p><p>(5 ,2 ,5 ,' 可用 ' ,100 ,'2021-11-20' ,2000 ,2)</p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120181110730.png" alt="image-20211120181110730"></p></li></ol></li></ol></li><li><p>对表添加外键约束，在银行信息表和资产信息表中，都存在每个银行卡必须有一个持卡者、每份资产必须都有一个资产拥有者这样的对应关系。因此针对这种对应关系，创建外键约束。（4 分）</p><p>添加外键约束</p><ol><li><p>信用卡的外键<br>ALTER TABLE finance.bank_card ADD CONSTRAINT fk_c_id FOREIGN KEY (b_c_id) REFERENCES finance.client (c_id) ON DELETE CASCADE;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120182046151.png" alt="image-20211120182046151"></p></li><li><p>资产的外键<br>ALTER TABLE finance.property ADD CONSTRAINT fk_pro_c_id FOREIGN KEY (p_c_id) REFERENCES finance.client (c_id) ON DELETE CASCADE;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120182231938.png" alt="image-20211120182231938"></p></li></ol></li><li><p>在理财产品表、保险信息表和基金信息表中，都存在金额这个属性，在现实生活中，金额不会存在负数。因此针对表中金额的属性，增加大于 0 的约束条件。（4 分）</p><p>增加大于 0 的约束</p><ol><li><p>f_products 表<br>ALTER table finance.f_products ADD CONSTRAINT c_p_mount CHECK (fp_amount&gt;=0);<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120182747860.png" alt="image-20211120182747860"></p></li><li><p>fund 表</p><p>ALTER table finance.fund ADD CONSTRAINT c_f_mount CHECK (f_amount &gt;=0);<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120182809449.png" alt="image-20211120182809449"></p></li><li><p>insurance 表<br>ALTER table finance.insurance ADD CONSTRAINT c_i_mount CHECK (i_amount&gt;=0);<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120182806605.png" alt="image-20211120182806605"></p></li></ol></li><li><p>输出：</p><ol><li><p>输出查询所有表的数据字典的查询语句和结果，可以截图或者复制黏贴代码。(基本都在之前有展示，这里对所有的表及 schema 进行了一次查询)<br>select * from pg_tables;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120183633861.png" alt="image-20211120183633861"></p></li><li><p>输出查询所有表的数据的查询语句和结果，可以截图或者复制黏贴代码。</p><ol><li><p>client 表<br>select * from finance.client;</p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120182955194.png" alt="image-20211120182955194"></p></li><li><p>bank_card 表<br>select * from finance.bank_card;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120183115059.png" alt="image-20211120183115059"></p></li><li><p>fund 表<br>select * from finance.fund;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120183213621.png" alt="image-20211120183213621"></p></li><li><p>f_products 表<br>select * from finance.f_products;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120183232153.png" alt="image-20211120183232153"></p></li><li><p>insurance 表<br>select * from finance.insurance;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120183242518.png" alt="image-20211120183242518"></p></li><li><p>property 表<br>select * from finance.property;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120183254782.png" alt="image-20211120183254782"></p></li></ol></li><li><p>输出所有创建约束的语句和创建结果，可以截图或者复制黏贴代码 (这在之前已经放上了)</p></li></ol></li></ol></li><li><p>对表中的数据进行查询操作</p><ol><li><p>l 至少完成 1 条单表查询和 1 条表查询。（4 分）<br>单表查询 -- 查询客户表中所有的客户 id</p><p>select c_id from finance.client;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120183930730.png" alt="image-20211120183930730"></p><p>表查询<br>select c_name from finance.client;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120191355193.png" alt="image-20211120191355193"></p></li><li><p>l 至少完成两条聚合查询，例如查询用户表中有多少个用户；查询保险信息表中，保险金额的平均值等。（4 分）<br><strong>查询 property 表的 income 平均值</strong><br>select avg (p_income) from finance.property<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120191618236.png" alt="image-20211120191618236"><br><strong>查询用户表中用户总数</strong><br>select count (*) from finance.client;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120191822353.png" alt="image-20211120191822353"></p></li><li><p>l 至少完成 3 条连接查询，例如：半连接、反连接、多表查询和子查询。（6 分）</p><ol><li>等值连接查询，查询每个用户及其拥有的资产<br>select finance.client.*,finance.property. *<br>from finance.client,finance.property<br>where finance.client.c_id=finance.property.p_c_id;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120192143231.png" alt="image-20211120192143231"></li><li>自身连接，在 fund 表中对每一个基金项，查询 manager 和自身 id 相同的基金<br>select first.*,second.f_manager<br>from finance.fund first,finance.fund second<br>where first.f_id = second.f_manager<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120192923196.png" alt="image-20211120192923196"></li><li>子查询，查询和 p_id=3 的资产处于相同状态的资产 (然后发现就它自己冻结着)<br>select * from finance.property<br>where p_status=<br>(select p_status from finance.property where p_id=3);<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120193259515.png" alt="image-20211120193259515"></li></ol></li><li><p>至少完成 1 条 ORDER BY 查询。（2 分）<br>将资产按照收益逆序输出<br>select * from finance.property order by p_income desc;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120193418297.png" alt="image-20211120193418297"></p></li><li><p>至少完成 1 条 GROUP BY……HAVING 查询。（4 分）</p></li><li><p>查询收益在 2000 及以上的资产及其平均收益，将结果按 p_id 分组显示，且只显示平均收益大于 2500 的组<br>select *,avg (p_income) from finance.property<br>where p_income&gt;=2000</p><p>group by p_id<br>having avg(p_income)&gt;=2500;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120194044403.png" alt="image-20211120194044403"></p></li><li><p>查询基金，将其按 f_id 分组，且只显示平均数量大于等于 2000 的组<br>select *,avg (f_amount) from finance.fund<br>group by f_id<br>having avg(f_amount)&gt;=2000;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120194430725.png" alt="image-20211120194430725"></p></li></ol></li></ol><h3 id="45-创建视图和索引"><a class="anchor" href="#45-创建视图和索引">#</a> 4.5 创建视图和索引</h3><ol><li><p>创建一个视图</p><p>查看 client 中属性，除了 c_mail 属性<br>create view see_client<br>as<br>select c_id,c_name,c_id_card,c_phone,c_password<br>from finance.client<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120195705769.png" alt="image-20211120195705769"></p></li><li><p>修改视图</p><p>修改视图所属 schema<br>alter view see_client set schema finance;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120202011203.png" alt="image-20211120202011203"></p></li><li><p>使用视图进行查询<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120202005604.png" alt="image-20211120202005604"></p></li><li><p>重命名视图<br>alter view finance.see_client<br>rename to oh_my_god;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120202200841.png" alt="image-20211120202200841"></p></li><li><p>删除视图<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120202227819.png" alt="image-20211120202227819"></p></li><li><p>创建索引<br>为客户电话号码创建索引<br>CREATE INDEX index_phone on finance.client (c_phone) ;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120202553719.png" alt="image-20211120202553719"></p></li><li><p>重建索引<br>对整个客户表重建索引<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120202715402.png" alt="image-20211120202715402"></p></li><li><p>重命名索引<br>alter index finance.index_phone rename to ind_phone;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120202831047.png" alt="image-20211120202831047"></p></li><li><p>删除索引<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120202849544.png" alt="image-20211120202849544"></p></li></ol><h3 id="146-数据修改和删除5分"><a class="anchor" href="#146-数据修改和删除5分">#</a> 1.4.6 数据修改和删除（5 分）</h3><p>任务：</p><p>l 修改数据：至少修改 2 个不同的数据。（3 分）</p><ol><li><p>将 client 表中第 1 个元素的值 c_name 改为 ' 年没怀念'<br>之前的表<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120205008902.png" alt="image-20211120205008902"><br>修改语句:<br>update finance.client<br>set c_name=' 年没怀念'<br>where c_id=1;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120205223012.png" alt="image-20211120205223012"></p><p>修改后表情况<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120205200129.png" alt="image-20211120205200129"></p></li><li><p>将 property 中 p_get_time 小于 2021-11-11 00:00:00 的值修改为 2021-11-19 00:00:00</p><p>修改前状态<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120205546236.png" alt="image-20211120205546236"><br>修改<br>update finance.property<br>set p_get_time='2021-11-19'<br>where p_get_time&lt;'2021-11-11';<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120205628164.png" alt="image-20211120205628164"><br>修改后状态<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120205638384.png" alt="image-20211120205638384"></p></li></ol><p>l 删除指定数据：至少删除 2 个不同数据表的数据。（2 分）</p><ol><li><p>将 finance.property 中 p_amount=101 的数据删除</p><p>删除前表情况</p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120205638384.png" alt="image-20211120205638384"></p><p>删除<br>delete from finance.property where p_amount=101;</p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120210444230.png" alt="image-20211120210444230"></p></li></ol><p>​ 删除后表情况<br>​ <img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120210451058.png" alt="image-20211120210451058"></p><ol start="2"><li><p>删掉 c_id&gt;20 的用户信息</p><p>删除前表情况</p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120210652108.png" alt="image-20211120210652108"></p><p>删除操作</p><p>delete from finance.client where c_id&gt;20;<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120210705838.png" alt="image-20211120210705838"></p></li></ol><p>​ 删除后表情况<br>​ <img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120210710547.png" alt="image-20211120210710547"></p><h3 id="147-创建新用户6分"><a class="anchor" href="#147-创建新用户6分">#</a> 1.4.7 创建新用户（6 分）</h3><p>任务：</p><ol><li><p>新用户的创建和授权：创建用户 dbuser，密码为 Gauss#3demo；给用户 dbuser 授予 finance 数据库下银行卡信息表的查询和插入权限，并将 finance 模式的权限也授予 dbuser 用户。（3 分）</p><p>创建用户<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120210919044.png" alt="image-20211120210919044"></p><p>给用户 dbuser 授予 finance 数据库下银行卡信息表的查询和插入权限，并将 finance 模式的权限也授予 dbuser 用户<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120210938886.png" alt="image-20211120210938886"></p></li><li><p>新用户连接数据库：使用新用户连接 finance 数据库；访问 finance 数据库的银行卡信息表。（2 分）</p><p>新用户连接</p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120211203343.png" alt="image-20211120211203343"><br>新用户访问 finance 数据库的银行卡信息表</p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120211232019.png" alt="image-20211120211232019"></p></li><li><p>删除 finance 模式。（1 分）<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120211528768.png" alt="image-20211120211528768"></p></li></ol><h3 id="148-使用jdbc连接opengauss数据库"><a class="anchor" href="#148-使用jdbc连接opengauss数据库">#</a> 1.4.8 使用 jdbc 连接 openGauss 数据库</h3><ol><li><p>创建测试数据库 demo；<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120211928291.png" alt="image-20211120211928291"></p></li><li><p>创建名为 demo 的 schema，并设置 demo 为当前的 schema<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120211933670.png" alt="image-20211120211933670"><br>设置搜索路径为 demo</p><p>SET search_path TO demo;</p></li><li><p>创建测试表 websites（id,name,url），数据为（'1', 'openGauss', '<span class="exturl" data-url="aHR0cHM6Ly9vcGVuZ2F1c3Mub3JnL3poLycpJUVGJUJDJThDKCcy">https://opengauss.org/zh/')，('2</span>', ' 华为云 ', '<span class="exturl" data-url="aHR0cHM6Ly93d3cuaHVhd2VpY2xvdWQuY29tLw==">https://www.huaweicloud.com/</span>'), ('3', 'openEuler', '<span class="exturl" data-url="aHR0cHM6Ly9vcGVuZXVsZXIub3JnL3poLw==">https://openeuler.org/zh/</span>'), ('4', ' 华为 support 中心 ', '<span class="exturl" data-url="aHR0cHM6Ly9zdXBwb3J0Lmh1YXdlaWNsb3VkLmNvbS8=">https://support.huaweicloud.com/</span>')。（3 分）<br>create table websites<br>(<br>id Integer primary key,<br>name varchar(200),<br>url varchar(200)</p><p>);<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120212236363.png" alt="image-20211120212236363"><br>插入数据</p><p>INSERT INTO websites (id,name,url) VALUES</p><p>('1', 'openGauss', '<span class="exturl" data-url="aHR0cHM6Ly9vcGVuZ2F1c3Mub3JnL3poLw==">https://opengauss.org/zh/</span>'),</p><p>('2', ' 华为云 ', '<span class="exturl" data-url="aHR0cHM6Ly93d3cuaHVhd2VpY2xvdWQuY29tLw==">https://www.huaweicloud.com/</span>'),</p><p>('3', 'openEuler', '<span class="exturl" data-url="aHR0cHM6Ly9vcGVuZXVsZXIub3JnL3poLw==">https://openeuler.org/zh/</span>'),</p><p>('4', ' 华为 support 中心 ', '<span class="exturl" data-url="aHR0cHM6Ly9zdXBwb3J0Lmh1YXdlaWNsb3VkLmNvbS8=">https://support.huaweicloud.com/</span>')</p><p><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120212401022.png" alt="image-20211120212401022"></p></li><li><p>查看入站规则是否包括 tcp26000 端口<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120213457003.png" alt="image-20211120213457003"></p></li><li><p>查看 java 版本是否为 8<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211120213634213.png" alt="image-20211120213634213"></p></li><li><p>创建项目，引入 postgres.jar 包<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211206104756935.png" alt="image-20211206104756935"></p></li><li><p>写下测试程序如下<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211206104819179.png" alt="image-20211206104819179"><br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211206104832554.png" alt="image-20211206104832554"></p></li><li><p>结果<br><img data-src="C:%5CUsers%5Cwww13%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211206104851481.png" alt="image-20211206104851481"></p></li></ol><p>本实验完成</p><div class="tags"><a href="/tags/exp8/" rel="tag"><i class="ic i-tag"></i> exp8</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">Edited on</span> <time title="Modified: 2021-12-09 13:49:15" itemprop="dateModified" datetime="2021-12-09T13:49:15+08:00">2021-12-09</time> </span><span id="2021/12/06/21-12-6-Database-exp-8/" class="item leancloud_visitors" data-flag-title="21/12/6 Database exp 8" title="Views"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">Views</span> <span class="leancloud-visitors-count"></span> <span class="text">times</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> Donate</button><p>Give me a cup of [coffee]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="nmhn WeChat Pay"><p>WeChat Pay</p></div><div><img data-src="/images/alipay.png" alt="nmhn Alipay"><p>Alipay</p></div><div><img data-src="/images/paypal.png" alt="nmhn PayPal"><p>PayPal</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>nmhn <i class="ic i-at"><em>@</em></i>年没怀念 der 博客</li><li class="link"><strong>Post link: </strong><a href="http://example.com/2021/12/06/21-12-6-Database-exp-8/" title="21&#x2F;12&#x2F;6 Database exp 8">http://example.com/2021/12/06/21-12-6-Database-exp-8/</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> unless stating additionally.</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2021/12/06/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;s2.loli.net&#x2F;2021&#x2F;12&#x2F;07&#x2F;fC2K5xBpaLIyEP1.jpg" title="Untitled"><span class="type">Previous Post</span> <span class="category"><i class="ic i-flag"></i></span><h3>Untitled</h3></a></div><div class="item right"><a href="/2021/12/06/%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;s2.loli.net&#x2F;2021&#x2F;12&#x2F;07&#x2F;oV16fUHbjAZgq5l.jpg" title="21&#x2F;12&#x2F;6 Database 查询优化"><span class="type">Next Post</span> <span class="category"><i class="ic i-flag"></i> 数据库</span><h3>21/12/6 Database 查询优化</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD"><span class="toc-number">1.</span> <span class="toc-text">分析系统功能</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#er%E5%9B%BE"><span class="toc-number">1.1.</span> <span class="toc-text">ER 图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.2.</span> <span class="toc-text">关系模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.2.1.</span> <span class="toc-text">对象的属性描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E4%B9%8B%E9%97%B4%E5%85%B3%E7%B3%BB%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.2.2.</span> <span class="toc-text">对象之间关系描述</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8"><span class="toc-number">1.3.</span> <span class="toc-text">物理设计与数据字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E5%8F%8A%E5%85%B6%E5%B1%9E%E6%80%A7"><span class="toc-number">1.3.1.</span> <span class="toc-text">表及其属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8"><span class="toc-number">1.3.2.</span> <span class="toc-text">数据字典</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A81-1-client%E8%A1%A8"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">表 1-1 client 表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A81-2bank_card%E8%A1%A8"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">表 1-2bank_card 表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A81-3-property%E8%B5%84%E4%BA%A7%E8%A1%A8"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">表 1-3 property 资产表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A81-4-f_products-%E7%90%86%E8%B4%A2%E4%BA%A7%E5%93%81%E8%A1%A8"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">表 1-4 f_products 理财产品表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A81-5-insurance-%E4%BF%9D%E9%99%A9%E8%A1%A8"><span class="toc-number">1.3.2.5.</span> <span class="toc-text">表 1-5 insurance 保险表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A81-6-fund%E5%9F%BA%E9%87%91%E8%A1%A8"><span class="toc-number">1.3.2.6.</span> <span class="toc-text">表 1-6 fund 基金表</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#45-%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE%E5%92%8C%E7%B4%A2%E5%BC%95"><span class="toc-number">1.3.3.</span> <span class="toc-text">4.5 创建视图和索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#146-%E6%95%B0%E6%8D%AE%E4%BF%AE%E6%94%B9%E5%92%8C%E5%88%A0%E9%99%A45%E5%88%86"><span class="toc-number">1.3.4.</span> <span class="toc-text">1.4.6 数据修改和删除（5 分）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#147-%E5%88%9B%E5%BB%BA%E6%96%B0%E7%94%A8%E6%88%B76%E5%88%86"><span class="toc-number">1.3.5.</span> <span class="toc-text">1.4.7 创建新用户（6 分）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#148-%E4%BD%BF%E7%94%A8jdbc%E8%BF%9E%E6%8E%A5opengauss%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.3.6.</span> <span class="toc-text">1.4.8 使用 jdbc 连接 openGauss 数据库</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="Related"><ul><li><a href="/2021/12/06/%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96/" rel="bookmark" title="21/12/6 Database 查询优化">21/12/6 Database 查询优化</a></li><li class="active"><a href="/2021/12/06/21-12-6-Database-exp-8/" rel="bookmark" title="21/12/6 Database exp 8">21/12/6 Database exp 8</a></li><li><a href="/2021/12/06/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/" rel="bookmark" title="21/12/6 Database 数据库操作">21/12/6 Database 数据库操作</a></li><li><a href="/2021/12/06/9.1%20%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%8C%E6%95%B4%E6%80%A7%E6%A6%82%E8%BF%B0/" rel="bookmark" title="21/12/6 Database 数据库完整性概述">21/12/6 Database 数据库完整性概述</a></li></ul></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="nmhn" data-src="/images/avatar.jpg"><p class="name" itemprop="name">nmhn</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">25</span> <span class="name">posts</span></a></div><div class="item categories"><a href="/categories/"><span class="count">6</span> <span class="name">categories</span></a></div><div class="item tags"><a href="/tags/"><span class="count">17</span> <span class="name">tags</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL25taG4=" title="https:&#x2F;&#x2F;github.com&#x2F;nmhn"><i class="ic i-github"></i></span> <a href="/1335894629@qq.com" title="1335894629@qq.com" class="item email"><i class="ic i-envelope"></i></a></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>Home</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2021/12/06/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2021/12/06/%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/2022/04/02/%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97/" title="更新日志">更新日志</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/junior/" title="In 大三">大三</a> <i class="ic i-angle-right"></i> <a href="/categories/junior/database/" title="In 数据库">数据库</a></div><span><a href="/2021/12/06/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/" title="21&#x2F;12&#x2F;6 Database 数据库操作">21/12/6 Database 数据库操作</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/03/16/React%E5%AD%A6%E4%B9%A020220314%20SetState/" title="React学习20220314 SetState">React学习20220314 SetState</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/junior/" title="In 大三">大三</a> <i class="ic i-angle-right"></i> <a href="/categories/junior/database/" title="In 数据库">数据库</a></div><span><a href="/2021/12/06/21-12-6-Database-exp-8/" title="21&#x2F;12&#x2F;6 Database exp 8">21/12/6 Database exp 8</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/junior/" title="In 大三">大三</a> <i class="ic i-angle-right"></i> <a href="/categories/junior/computernetwork/" title="In 计算机网络">计算机网络</a></div><span><a href="/2021/12/09/%E7%BD%91%E7%BB%9C%E5%B1%82/" title="网络层">网络层</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2021/12/06/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7/" title="Untitled">Untitled</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/03/13/React%E5%AD%A6%E4%B9%A020220313%20Hook/" title="React学习20220313 Hook">React学习20220313 Hook</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/03/16/React%E5%AD%A6%E4%B9%A020220314%20%E8%99%9A%E6%8B%9FDOM/" title="React学习20220314 虚拟DOM">React学习20220314 虚拟DOM</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/03/09/%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/" title="白盒测试">白盒测试</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/junior/" title="In 大三">大三</a> <i class="ic i-angle-right"></i> <a href="/categories/junior/computernetwork/" title="In 计算机网络">计算机网络</a></div><span><a href="/2021/12/09/%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2/" title="网络地址转换">网络地址转换</a></span></li></ul></div><div><h2>Recent Comments</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">nmhn @ Nmhn</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="Symbols count total">NaNm words</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="Reading time total">NaN:aN</span></div><div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2021/12/06/21-12-6-Database-exp-8/",favicon:{show:"（●´3｀●）Goooood",hide:"(´Д｀)Booooom"},search:{placeholder:"Search for Posts",empty:"We didn't find any results for the search: ${query}",stats:"${hits} results found in ${time} ms"},valine:!0,fancybox:!0,copyright:'Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->