<!-- build time:Wed Mar 16 2022 14:24:13 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="年没怀念der博客" href="http://example.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="年没怀念der博客" href="http://example.com/atom.xml"><link rel="alternate" type="application/json" title="年没怀念der博客" href="http://example.com/feed.json"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="计算机网络"><link rel="canonical" href="http://example.com/2021/12/11/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%A4%8D%E4%B9%A0/"><title>计算机网络复习 - 计算机网络 - 大三 | Nmhn = 年没怀念 der 博客</title><meta name="generator" content="Hexo 5.4.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">计算机网络复习</h1><div class="meta"><span class="item" title="Created: 2021-12-11 20:22:23"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">Posted on</span> <time itemprop="dateCreated datePublished" datetime="2021-12-11T20:22:23+08:00">2021-12-11</time> </span><span class="item" title="Symbols count in article"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">Symbols count in article</span> <span>14k</span> <span class="text">words</span> </span><span class="item" title="Reading time"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">Reading time</span> <span>13 mins.</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="Toggle navigation bar"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Nmhn</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://s2.loli.net/2021/12/07/j32QpA4xwWfsP8d.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2021/12/07/tser9TpwMDN6vZq.png"></li><li class="item" data-background-image="https://s2.loli.net/2021/12/07/BVOXCbkALYh4Ru7.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2021/12/07/oV16fUHbjAZgq5l.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2021/12/07/n5P3kQjr7WNgHTJ.jpg"></li><li class="item" data-background-image="https://s2.loli.net/2021/12/07/uk7LcXiqQp2wyZG.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">Home</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/junior/" itemprop="item" rel="index" title="In 大三"><span itemprop="name">大三</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/junior/computernetwork/" itemprop="item" rel="index" title="In 计算机网络"><span itemprop="name">计算机网络</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="en"><link itemprop="mainEntityOfPage" href="http://example.com/2021/12/11/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%A4%8D%E4%B9%A0/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="nmhn"><meta itemprop="description" content=", "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="年没怀念 der 博客"></span><div class="body md" itemprop="articleBody"><h1 id="计网复习"><a class="anchor" href="#计网复习">#</a> 计网复习</h1><h2 id="大纲"><a class="anchor" href="#大纲">#</a> 大纲</h2><p>[toc]</p><h2 id="1-计算机网络体系结构"><a class="anchor" href="#1-计算机网络体系结构">#</a> 1. 计算机网络体系结构</h2><h3 id="11-计算机网络概述"><a class="anchor" href="#11-计算机网络概述">#</a> 1.1 计算机网络概述</h3><h4 id="111计算机网络的概念-组成"><a class="anchor" href="#111计算机网络的概念-组成">#</a> 1.1.1 计算机网络的概念、组成</h4><p>概念</p><blockquote><p>计算机网络就是通过交换机，路由器等网络设备和通信线路将分散在不同地理位置的多个计算机系统连接起来，在网络协议和应用软件的控制下实现各种网络服务的系统.</p><ul><li>资源共享 - 最终目的</li><li>数据通信 - 资源共享的前提</li></ul></blockquote><p>网络的结构</p><blockquote><ul><li><p>网络边缘 (network edge)- 服务端和客户端</p><ul 传输速率=""><li><p>服务端功能：发送分组数据</p><blockquote><p>收到应用数据 -&gt; 拆解为小组块 -&gt; 以 R 传输速率 (带宽 bandwidth) 进行传输</p><p>传输延迟L_{比特数}/R_</p></blockquote></li></ul><hr></li><li><p>接入网络 (access networks)- 物理介质</p><ul><li><p>物理层：发送端和接收端之间</p></li><li><p>导引型介质 (guided media)</p><ul><li><p>固体介质 - 铜线，光纤 (optical fiber), 同轴电缆 (coaxial cable)</p><blockquote><p>双绞线：螺旋排列减小电磁干扰</p><p>同轴电缆：单信道 / 多信道</p><p>光纤：光脉冲，低差错率，无电磁干扰</p></blockquote></li></ul></li><li><p>非导引型介质 (unguided media)</p><ul><li>自由发信号</li><li>e.g. 无线电</li></ul></li></ul></li><li><p>网络核心 (network core)- 互联的路由器</p><ul><li><p>路由器网络</p></li><li><p>分组交换</p><blockquote><p>主机把报文分解成分组</p><p>网络核心转发分组 (从源头到目的)-</p><blockquote><p>单个分组传输到相邻节点，存储下来后查转发表，转发到下一节点。</p></blockquote></blockquote></li></ul></li></ul></blockquote><h4 id="112计算机网络的分类"><a class="anchor" href="#112计算机网络的分类">#</a> 1.1.2 计算机网络的分类</h4><ul><li><ol><li><p>Transmission technology 传输技术<br>广播链路</p><p><img data-src="https://s2.loli.net/2021/12/10/NuIQEO7LD1os5cP.png" alt="image-20211210103557833"> 点到点链路<br><img data-src="https://s2.loli.net/2021/12/10/sZGIdi3TYz1kU8j.png" alt="image-20211210103606005"></p></li></ol></li><li><ol start="2"><li>Scale 距离尺度<br>局域网 LAN 10~1km<br>城域网 MAN 1km~10km<br>广域网 WAN 100km~</li></ol></li><li><ol start="3"><li>Topology 拓扑结构<br>星形什么的，看名字就知道了</li></ol></li><li><ol start="4"><li>Switching 交换<ol><li><p>Packet Switching 分组交换</p></li><li><p>Circuit Switching 电路交换</p></li></ol></li></ol></li></ul><h4 id="113计算机网络与互联网的发展历史不考"><a class="anchor" href="#113计算机网络与互联网的发展历史不考">#</a> 1.1.3 计算机网络与互联网的发展历史 [不考]</h4><p>1961-1972: Early packet-switching principles 分组交换的发展</p><p>1972-1980: Internetworking, new and proprietary nets 网络互联。专用网络<br>1980-1990: new protocols, a proliferation of networks 网络的激增<br>1990, 2000’s: commercialization, the Web, new apps 商业化</p><p>2005-present</p><h4 id="114计算机网络的标准化工作及相关组织不考"><a class="anchor" href="#114计算机网络的标准化工作及相关组织不考">#</a> 1.1.4 计算机网络的标准化工作及相关组织 [不考]</h4><p>IETF (因特网工程任务组)</p><p>IEEE802 - 局域网 / 城域网标准委员会，指定相关标准</p><h3 id="12计算机网络体系结构与参考模型"><a class="anchor" href="#12计算机网络体系结构与参考模型">#</a> 1.2 计算机网络体系结构与参考模型</h3><h4 id="121计算机网络分层结构"><a class="anchor" href="#121计算机网络分层结构">#</a> 1.2.1 计算机网络分层结构</h4><h4 id="122计算机网络协议-接口-服务等概念"><a class="anchor" href="#122计算机网络协议-接口-服务等概念">#</a> 1.2.2 计算机网络协议、接口、服务等概念</h4><p>服务：层的功能</p><p>协议：同一层的对等实体间的交流服务</p><p>接口：告诉上层如何访问</p><h4 id="123isoosi参考模型和tcpip模型"><a class="anchor" href="#123isoosi参考模型和tcpip模型">#</a> 1.2.3ISO/OSI 参考模型和 TCP/IP 模型</h4><p>ISO/OSI 参考模型</p><blockquote><p>ISO: international Standards Organization</p><p>OSI: Open Systems Interconnection</p><blockquote><p>・application: 支持网络应用<br>・presentation: 允许应用程序解释数据的意义，如加密、压缩<br>・session: 数据交换的同步，检查和恢复<br>・transport: 进程到进程的数据传输 (端到端)<br>・network: 为数据报选择从源主机到目的主机 的路径<br>・data link: 在邻近网元之间传输数据</p><p>・physical: 在介质上传输原始比特</p></blockquote></blockquote><p>TCP/IP 参考模型</p><blockquote><p>协议栈</p><p><img data-src="https://s2.loli.net/2021/12/10/kUG5MQbEuSVAtI6.png" alt="image-20211210105419434"></p></blockquote><p>下图左为 OSI, 右为 TCP/IP</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzEwL2x0TlA3V2s4S1NFYkRxby5wbmc=">https://s2.loli.net/2021/12/10/ltNP7Wk8KSEbDqo.png</span>&quot; alt=&quot;image-20211210105133165&quot; style=&quot;zoom: 67%;&quot; /&gt;</p><p><strong>混合模型 (Hybrid Model)</strong></p><p>本课程使用的模型</p><p><img data-src="https://s2.loli.net/2021/12/10/iQgX5ac8sJFutrI.png" alt="image-20211210105705057"></p><h4 id="传世经典bushi-数据传输过程中在各层发生的变化"><a class="anchor" href="#传世经典bushi-数据传输过程中在各层发生的变化">#</a> 传世经典 (bushi)- 数据传输过程中在各层发生的变化</h4><p><img data-src="https://s2.loli.net/2021/12/10/1K3IgykaHvdcUsb.png" alt="image-20211210105729673"></p><h3 id="13计算机网络性能指标"><a class="anchor" href="#13计算机网络性能指标">#</a> 1.3 计算机网络性能指标</h3><p>吞吐量 Throughput - 传输位数 / 传输时间</p><ul><li>带宽是吞吐量的绝对上限</li></ul><p>带宽 Bandwidth</p><blockquote><p>在单位时间内，从网络中的某一点到另一点所能通过的位数</p></blockquote><p>时延 / 延迟 Delay</p><blockquote><p>一个数据库从网络的一端传送到另一端所需要的时间</p><p>时延 = 处理时延 + 排队时延 + 传输时延 + 传播时延</p><ul><li>传输时延 - 数据量 / 带宽</li><li>传播时延 - 传输距离 / 光速</li><li>往返时延 (RTT)- 从发送端发出，到发送端收到接收端的确认的总时延</li></ul><ul><li>端到端时延 - 分组从源主机到目的主机路径上每个节点时延的总和</li><li>时延带宽积 - 传播时延 * 带宽</li></ul></blockquote><h2 id="2-应用层"><a class="anchor" href="#2-应用层">#</a> 2. 应用层</h2><h3 id="21-应用层协议原理"><a class="anchor" href="#21-应用层协议原理">#</a> 2.1 应用层协议原理</h3><h4 id="211网络应用程序的体系结构"><a class="anchor" href="#211网络应用程序的体系结构">#</a> 2.1.1 网络应用程序的体系结构</h4><h5 id="client-servercs"><a class="anchor" href="#client-servercs">#</a> Client-Server(C/S)</h5><p>server:</p><blockquote><p>永远在线</p><p>永久 ip</p><p>服务器集群增强可扩展性</p></blockquote><p>client</p><blockquote><p>与服务器交互</p><p>动态 IP 地址</p><p>客户机之间不直接通信</p></blockquote><h5 id="peer-to-peerp2p"><a class="anchor" href="#peer-to-peerp2p">#</a> Peer-to-Peer(P2P)</h5><blockquote><p>没有长期存在的服务端</p><p>端系统之间直接通信</p><p>对等方向其他对等方 (Peer) 请求服务，同时给其他 peer 提供服务</p><p>对等方间歇性连接，IP 可变</p></blockquote><h4 id="212可供应用层使用的传输层服务"><a class="anchor" href="#212可供应用层使用的传输层服务">#</a> 2.1.2 可供应用层使用的传输层服务</h4><p>app 需要什么？</p><blockquote><p>数据完整性</p><p>吞吐量</p><p>时效性</p><p>安全性</p></blockquote><p>TCP</p><blockquote><p>提供</p><ul><li><p>面向连接</p></li><li><p>可靠传输</p></li><li><p>流量控制</p></li><li><p>拥塞控制</p></li></ul><p>不提供</p><ul><li>定时 (时效性)</li><li>最小带宽保证</li></ul></blockquote><p>UDP</p><blockquote><p>不可靠数据传输</p><p>不提供</p><blockquote><p>流量控制</p><p>连接建立</p><p>可靠性</p><p>拥塞控制</p><p>时效性</p><p>最小带宽保证</p></blockquote></blockquote><h5 id="因特网使用的应用层协议和传输层协议"><a class="anchor" href="#因特网使用的应用层协议和传输层协议">#</a> 因特网使用的应用层协议和传输层协议</h5><p><img data-src="https://s2.loli.net/2021/12/10/VqOfA9pZeRUbgP6.png" alt="image-20211210111555991"></p><h3 id="22应用层协议"><a class="anchor" href="#22应用层协议">#</a> 2.2 应用层协议</h3><h4 id="221web和http"><a class="anchor" href="#221web和http">#</a> 2.2.1Web 和 HTTP</h4><p>http: 超文本传输协议</p><blockquote><p>使用 TCP 协议</p><ul><li>客户端初始化传输端口，发送给服务端</li><li>服务端接受连接请求</li><li>交换信息</li><li>连接关闭</li></ul><p>非持久 http: 每个连接只发送一个对象 (HTTP/1.0)</p><p>例子</p><ul><li><blockquote><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzEwL1RBQ3NHYWx0SU1XY3VWOS5wbmc=">https://s2.loli.net/2021/12/10/TACsGaltIMWcuV9.png</span>&quot; alt=&quot;image-20211210125021314&quot; style=&quot;zoom: 50%;&quot; /&gt;</p></blockquote></li></ul><p>持久 http: 每个连接发送多个对象 (HTTP/1.1)</p><p>过程</p><ul><li>客户端初始化连接</li><li>服务端接受</li><li>下面步骤 * n<ul><li>客户端发送请求</li><li>服务端发送数据</li><li>客户端收到数据</li></ul></li><li>服务端关掉连接</li></ul><p>例子</p><ul><li><blockquote><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzEwL3JtRW9NU3doVWVLbFFEQy5wbmc=">https://s2.loli.net/2021/12/10/rmEoMSwhUeKlQDC.png</span>&quot; alt=&quot;image-20211210125349254&quot; style=&quot;zoom:50%;&quot; /&gt;</p></blockquote></li></ul><h5 id="http请求报文"><a class="anchor" href="#http请求报文">#</a> HTTP 请求报文</h5><p>两种 type: 请求和响应</p><p>请求报文样式:</p><p>请求行 报头 空白行 正文</p><p>GET /somedir/page.html HTTP/1.1 -- 请求</p><p>Host: <span class="exturl" data-url="aHR0cDovL3d3dy5zb21lc2Nob29sLmVkdQ==">www.someschool.edu</span> User-agent: Mozilla/4.0 Connection: close Accept-language:fr-- 报头</p><h5 id="无状态statelessness和cookies"><a class="anchor" href="#无状态statelessness和cookies">#</a> 无状态 (Statelessness) 和 Cookies</h5><p>无状态 - 服务器不保留有关客户过去请求的任何信息</p><p>Cookies</p><p>一个小文件 / 字符串，使得服务端能够跟踪用户</p><p>实现</p><blockquote><p>在 Http 响应报文上加上 set-cookie 头</p><p>请求报文上加入 cookie 报头</p><p>cookie 文件留在用户本地，用浏览器管理</p><p>在服务端留有后端的服务器存储用户真正信息</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzEwL2p1c1RDUGN0ekJkcHJTNS5wbmc=">https://s2.loli.net/2021/12/10/jusTCPctzBdprS5.png</span>&quot; alt=&quot;image-20211210174626429&quot; style=&quot;zoom:50%;&quot; /&gt;</p></blockquote><h5 id="web缓存-代理服务器"><a class="anchor" href="#web缓存-代理服务器">#</a> Web 缓存 - 代理服务器</h5><p>目的：缩短对客户请求的响应时间，减少组织接入链路上的流量</p><p>用户浏览器：通过缓存访问网站</p><p>浏览器把所有的 HTTP 响应发送给 cache</p><ul><li>条件 GET<br>如果缓存中有最新缓存版本，就不发送该对象</li></ul></blockquote><h4 id="222ftp不考"><a class="anchor" href="#222ftp不考">#</a> 2.2.2FTP [不考]</h4><h4 id="223electronic-mailsmtp-pop3-imap"><a class="anchor" href="#223electronic-mailsmtp-pop3-imap">#</a> 2.2.3Electronic Mail——SMTP, POP3, IMAP</h4><p>关键组件:</p><blockquote><p>用户代理</p><ul><li><blockquote><p>邮件阅读者</p><p>撰写，编辑，阅读邮件</p><p>发送 / 接收在 server 上存储的邮件</p></blockquote></li></ul><p>邮件服务器</p><ul><li><blockquote><p>mailbox 保留用户收到的信息</p><p>为发送的邮件信息创建发送队列</p><p>在 server 中间提供 SMTP 协议服务，用来发送邮件</p></blockquote></li></ul></blockquote><p>示意图</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzEwL0c5NzRDdU5GU2dtSFk2eC5wbmc=">https://s2.loli.net/2021/12/10/G974CuNFSgmHY6x.png</span>&quot; alt=&quot;image-20211210175052267&quot; style=&quot;zoom:67%;&quot; /&gt;</p><p>邮件发送协议:</p><ul><li>SMTP: 简单邮件传输协议</li><li>MIME: 通用因特网邮件拓展<br>SMTP 只能传输 ASCII 码，不能传输二进制数据，MIME 允许二进制数据以 ASCII 编码</li></ul><p>邮件读取协议:</p><ul><li>pop: 邮局协议 Post Office Protocol<br>授权 + 下载</li><li>IMAP: 因特网报文读取协议<br>更多功能<br>操作存储在服务器上的报文</li><li>HTTP: gmail,Hotmail,Yahoo!Mail</li></ul><h4 id="224dns-域名系统"><a class="anchor" href="#224dns-域名系统">#</a> 2.2.4DNS 域名系统</h4><p>提供的服务</p><blockquote><p>主机名到 ip 的翻译</p><p>主机别名</p><p>邮件服务器错误识别</p><p>负载分配 (即一个主机名对应一组 IP 地址)</p></blockquote><h5 id="分布式层次化数据库"><a class="anchor" href="#分布式层次化数据库">#</a> 分布式层次化数据库</h5><p><img data-src="https://s2.loli.net/2021/12/10/KxSiLqzaPj1Hy3Y.png" alt="image-20211210182515156"></p><p>访问 www.amazon.com 的过程</p><p>客户 -&gt;root, 得到 com server</p><p>客户 -&gt;com server 得到 <span class="exturl" data-url="aHR0cDovL2FtYXpvbi5jb20=">amazon.com</span> DNS server</p><p>客户 -&gt;<span class="exturl" data-url="aHR0cDovL2FtYXpvbi5jb20=">amazon.com</span> DNS server 得到对应 ip 地址</p><h5 id="本地域名服务器"><a class="anchor" href="#本地域名服务器">#</a> 本地域名服务器</h5><p>大学 / 公司内部搭建</p><p>主机创建 DNS 请求的时候，先送到本地 DNS server</p><h5 id="域名解析例子"><a class="anchor" href="#域名解析例子">#</a> 域名解析例子</h5><blockquote><p><img data-src="https://s2.loli.net/2021/12/10/wiEbcMuj5rzRUOF.png" alt="image-20211210183014756"></p></blockquote><h5 id="dns-protocol"><a class="anchor" href="#dns-protocol">#</a> DNS Protocol</h5><p>使用 UDP 协议的 53 号端口传输</p><h4 id="225p2p不考"><a class="anchor" href="#225p2p不考">#</a> 2.2.5P2P [不考]</h4><h3 id="23网络编程不考"><a class="anchor" href="#23网络编程不考">#</a> 2.3 网络编程 [不考]</h3><h4 id="网络应用程序编程接口-套接字不考"><a class="anchor" href="#网络应用程序编程接口-套接字不考">#</a> 网络应用程序编程接口 - 套接字 [不考]</h4><h2 id="3传输层"><a class="anchor" href="#3传输层">#</a> 3. 传输层</h2><h3 id="31传输层提供的服务"><a class="anchor" href="#31传输层提供的服务">#</a> 3.1 传输层提供的服务</h3><h4 id="311传输层的功能"><a class="anchor" href="#311传输层的功能">#</a> 3.1.1 传输层的功能</h4><p>为运行在不同主机上的应用进程之间提供逻辑通信</p><ul><li>端到端</li><li>依赖并强化网络层服务</li></ul><h4 id="312无连接服务与面向连接服务"><a class="anchor" href="#312无连接服务与面向连接服务">#</a> 3.1.2 无连接服务与面向连接服务</h4><p>无连接：无握手</p><p>面向连接：数据交换前通过握手初始化发送方与接收方的服务</p><h4 id="313传输层寻址与端口"><a class="anchor" href="#313传输层寻址与端口">#</a> 3.1.3 传输层寻址与端口</h4><p>传输层寻址通过 TCP 和 UDP 的端口实现</p><blockquote><p>TCP/IP:0~65535</p><ul><li>0~ 1023: 标准端口，用于特定服务</li><li>其余临时端口</li></ul></blockquote><p>不同的端口表示不同的应用程序</p><h3 id="32无连接的传输协议udp"><a class="anchor" href="#32无连接的传输协议udp">#</a> 3.2 无连接的传输协议 ——UDP</h3><h5 id="特征"><a class="anchor" href="#特征">#</a> 特征</h5><blockquote><p>尽力而为 (会丢包，顺序会乱)</p><p>无连接 - 没有握手，每个报文的处理<strong>与其他报文独立</strong></p><p>经常被流媒体使用 (能容忍丢包，对时间敏感)</p></blockquote><p>DNS 和 SNMP 是用 UDP 的</p><p>UDP 格式</p><table><thead><tr><th>源端口 (16bit</th><th>目的端口 (16bit)</th><th>长度 (16bit)</th><th>校验和 (16bit)</th><th>报文</th></tr></thead></table><p>UDP 校验和计算</p><p>临时把伪首部 (12 字节 IP 首部) 和数据报连接在一起，用于检验是否在正确的端点之间传送</p><p>计算校验和</p><p>过程</p><p><img data-src="https://s2.loli.net/2021/12/10/I9pQY8KlRjohZyA.png" alt="image-20211210184555287"></p><p>反码求和</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzEwL1pxaXRBSUtEOU1oV0ZCWC5wbmc=">https://s2.loli.net/2021/12/10/ZqitAIKD9MhWFBX.png</span>&quot; alt=&quot;image-20211210184821480&quot; style=&quot;zoom: 67%;&quot; /&gt;</p><p>校验和例子</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzEwL3BSelNFVEdaakJ2YjRVSS5wbmc=">https://s2.loli.net/2021/12/10/pRzSETGZjBvb4UI.png</span>&quot; alt=&quot;image-20211210185822703&quot; style=&quot;zoom:67%;&quot; /&gt;</p><h3 id="33可靠数据传输的原理"><a class="anchor" href="#33可靠数据传输的原理">#</a> 3.3 可靠数据传输的原理</h3><p>目的</p><blockquote><p>数据位不被损坏</p><p>没有数据丢失</p><p>数据以发送顺序被传输</p></blockquote><p>总结 - 要在非可靠信道上提供可靠的数据通信</p><p>基础操作</p><blockquote><p>ARQ 自动重传请求：接收方发现错误 / 丢失分组后要求发送方重传</p><p>错误分组检测 - 校验和</p><p>丢失分组 - 确认，超时</p><p>重传 (Retransmit)</p></blockquote><h4 id="331停止-等待协议sw"><a class="anchor" href="#331停止-等待协议sw">#</a> 3.3.1 停止 - 等待协议（SW）</h4><p>发送方发送一个分组后，必须停下来等待接收方确认后才可以发送下一个分组</p><p>错误处理：收到错误分组，接收方发送否定确认，让发送方重发</p><p>丢失处理：发送方内部设置定时器，超过定时时间还未收到 ACK 确认，则重发</p><p>处理重复分组：给每个分组带上序号 (模<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.664392em;vertical-align:0"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.664392em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span>)</p><h5 id="性能分析及计算"><a class="anchor" href="#性能分析及计算">#</a> 性能分析及计算</h5><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzEwLzJzbFhxd2JCYTV4OVltOC5wbmc=">https://s2.loli.net/2021/12/10/2slXqwbBa5x9Ym8.png</span>&quot; alt=&quot;image-20211210190424127&quot; style=&quot;zoom:67%;&quot; /&gt;</p><h4 id="332回退n协议gbn"><a class="anchor" href="#332回退n协议gbn">#</a> 3.3.2 回退 N 协议（GBN）</h4><p>发送方</p><blockquote><p>在收到确认前可以发送多个分组</p><p>发送窗口<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">W_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 最大为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.747722em;vertical-align:-.08333em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.664392em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">1</span></span></span></span></p><p>每发送一个分组后，就启动内部计时器，若超时未收到确认，则重发该分组之后已发送的 N 个分组</p><p><img data-src="https://s2.loli.net/2021/12/10/BhjV1KgSrJ6xXiL.png" alt="image-20211210193707525"></p></blockquote><p>接收方</p><blockquote><p>接收方只能缓冲一个分组</p><p>接收方只对按序到达的最后一个分组发送确认分组 (因此对乱序分组会产生重复的确认分组)</p></blockquote><p>序号:</p><ul><li>是模 2^n 的，n 是字段的位数</li></ul><h4 id="333选择重传协议sr"><a class="anchor" href="#333选择重传协议sr">#</a> 3.3.3 选择重传协议（SR）</h4><p>避免不必要的重传</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzEwL1V1eDg5SWRSb1NPWDFWVy5wbmc=">https://s2.loli.net/2021/12/10/Uux89IdRoSOX1VW.png</span>&quot; alt=&quot;image-20211210194222054&quot; style=&quot;zoom:50%;&quot; /&gt;</p><p>接收方</p><blockquote><p>接逐个确认接收到的每一个分组</p><p>发现某个分组出错后，其后继续送来的正确分组还是被接收，放在缓冲区中，同时要求发送方重新传送出错分组</p></blockquote><p>发送方</p><blockquote n-1=""><p>只有在接收窗口向前滑动时，发送窗口才有可能向前滑动</p><p>即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>S</mi></msub><mo>&gt;</mo><mo>=</mo><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_S&gt;=W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.05764em">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height:.36687em;vertical-align:0"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.00773em">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 且 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>s</mi></msub><mo>+</mo><msub><mi>W</mi><mi>R</mi></msub><mo>&lt;</mo><mo>=</mo><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">W_s+W_R&lt;=2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.00773em">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:.36687em;vertical-align:0"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.664392em;vertical-align:0"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.664392em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></p><p>窗口长度 &lt;=2^</p></blockquote><h4 id="334滑动窗口机制可用于实现不同可靠传输协议"><a class="anchor" href="#334滑动窗口机制可用于实现不同可靠传输协议">#</a> 3.3.4 滑动窗口机制（可用于实现不同可靠传输协议）</h4><p>流水线协议 / 连续 ARQ (也叫 &lt; u&gt; 滑动窗口协议 &lt;/u&gt;)</p><p>当发送端等待确认时，我们需要传输多个分组来提高利用率</p><p>Pipeling: 允许发送方发送多个未被确认的分组</p><p>概念</p><blockquote><p>发送窗口：发送方在没收到确认的情况下，能够连续发送的分组的序号表<br>&lt; img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzEwL3dnalR4NWMzYXFyQ29IRC5wbmc=">https://s2.loli.net/2021/12/10/wgjTx5c3aqrCoHD.png</span>&quot; alt=&quot;image-20211210191530175&quot; style=&quot;zoom:50%;&quot; /&gt;</p><ul><li>大小:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">W_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></li><li>下界表示未得到确认的分组的最小序号</li></ul><p>接收窗口：希望接收的分组的序号表<br><img data-src="https://s2.loli.net/2021/12/10/hmAcMeU8rnJSRo6.png" alt="image-20211210191655633"></p><ul><li>大小<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.00773em">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></li><li>上界表示允许接收的分组的最大序号，下界表示希望接收的下一个分组的序号</li><li>若序号等于下界的分组被正确接收，并发送一个确认分组，上下界都加 1, 接收窗口向前滑动一次</li></ul></blockquote><h3 id="34面向连接的传输协议-tcp"><a class="anchor" href="#34面向连接的传输协议-tcp">#</a> 3.4 面向连接的传输协议 —— TCP</h3><h5 id="总览"><a class="anchor" href="#总览">#</a> 总览</h5><blockquote><p>点到点</p><p>可靠有序的字节流 - 没有报文边界</p><p>流水线 - 拥塞控制和流量控制设置窗口大小</p><p>全双工数据 - 双方可以同时发送和接收</p><blockquote><p>要求每一端都有两个窗口</p></blockquote><p>流量控制</p><p>面向连接</p><p>拥塞控制</p></blockquote><h4 id="341tcp报文段"><a class="anchor" href="#341tcp报文段">#</a> 3.4.1TCP 报文段</h4><h5 id="结构"><a class="anchor" href="#结构">#</a> 结构</h5><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzEwL0NTTUpkaGplSVByT0hMbS5wbmc=">https://s2.loli.net/2021/12/10/CSMJdhjeIPrOHLm.png</span>&quot; alt=&quot;image-20211210194733680&quot; style=&quot;zoom:50%;&quot; /&gt;</p><p>解释</p><ul><li><p>源端口和目的端口 - 2 字节 /each,</p></li><li><p>序号 - 每字节都有序号，序号字段存储发送字节的第一个的序号</p></li><li><p>确认号 - 希望收到下一个保温段的数据的第一个字节的序号<br>TCP 使用累积确认</p></li><li><p>一些特殊位</p><blockquote><p>URG - 紧急</p><p>ACK-1 时确认号字段有效</p><p>PSH - 尽快交付 (不等待缓存写满)</p><p>RST-reset 复位，重新建立连接</p><p>SYN - 如果为 1 表示这是个连接请求</p><p>FIN-1 的话释放连接</p></blockquote></li><li><p>校验和 - 检验首部和数据</p></li></ul><h4 id="342tcp可靠传输"><a class="anchor" href="#342tcp可靠传输">#</a> 3.4.2TCP 可靠传输</h4><p>用字节序号进行控制</p><p>过程模拟</p><blockquote><p>B 给出通告窗口值 20-&gt;A 构造长为 20 的发送窗口 (31~50)</p><p>A 发送 11 字节数据，此时还剩 9 字节可被发送</p><p>B 接收窗口也为 20, 收到 3 字节，发送确认号 33-&gt;A 窗口移动到 (34~53)</p><p>B 窗口也滑动到 34</p></blockquote><p>重传计时器 ***</p><p>四个窗口 (两发两收) 动态变化</p><h4 id="343tcp流量控制"><a class="anchor" href="#343tcp流量控制">#</a> 3.4.3TCP 流量控制</h4><p>目的：让发送方速率不要太快，让接收方来得及接收</p><p>利用滑动窗口机制实现</p><p>如果接收端顶不住发送端了，缓冲区被全部占用，就只能发送一个零通告窗口</p><p>发送端收到零通告窗口后停止发送，直到等到接收端发送一个非零的通告窗口</p><ul><li>持续计时器<br>收到零通告窗口时启动，如果持续时间到期，就发送一个探测报文段，请求一个对方的通告窗口<br>如果还是零，就重设计时器</li></ul><h4 id="344tcp连接管理不考"><a class="anchor" href="#344tcp连接管理不考">#</a> 3.4.4TCP 连接管理 [不考]</h4><h4 id="345tcp拥塞控制"><a class="anchor" href="#345tcp拥塞控制">#</a> 3.4.5TCP 拥塞控制</h4><p>太多的源太快地发送太多的数据，使网络来不及处理</p><p>表现：丢包 (路由器缓冲区溢出)</p><p>长时延 (缓冲区中排队)</p><p>作用：提高吞吐量</p><p><img data-src="https://s2.loli.net/2021/12/10/UMDJeWx3bX9QsZR.png" alt="image-20211210202844398"></p><h5 id="与流量控制的区别"><a class="anchor" href="#与流量控制的区别">#</a> 与流量控制的区别</h5><blockquote><p>拥塞控制</p><ul><li>需要确保通信子网能够承载用户提交的通信两，是一个全局性过程，涉及主机，路由器等很多因素</li></ul><p>流量控制</p><ul><li>与点到点的通信量有关，主要解决快速发送方与慢速发送方的问题，是局部过程</li></ul></blockquote><h5 id="拥塞控制方法"><a class="anchor" href="#拥塞控制方法">#</a> 拥塞控制方法</h5><p>发送方维持一个拥塞窗口 cwnd, 其大小取决于网络拥塞程度，且动态变化</p><blockquote><p>网络不堵塞，拥塞窗口增大一些</p><p>堵塞就把它减少一些</p></blockquote><p>发送方发送窗口的上限为接收方通告窗口 [rwnd] 和拥塞窗口 [cwnd] 中较小的一个</p><p>四种办法</p><blockquote><ol><li><p>慢开始 / 启动<br>cwnd 初始化为 1<br>每收到一个对应确认，cwnd+=1<br><img data-src="https://s2.loli.net/2021/12/10/Z7juwLIF8U69mBy.png" alt="image-20211210203322561"><br>每经过一个传输轮次，cwnd*=2, 时间为 RTT</p></li><li><p>拥塞避免<br>每经过一个 RTT, 拥塞窗口 + 1, 缓慢增长</p><ul><li><p>慢开始门限 ssthresh</p><blockquote><p>cwnd&lt;ssthresh -&gt; 慢开始 / 慢启动算法</p><p>cwnd&gt;ssthresh -&gt; 拥塞避免</p><p>cwnd=ssthresh -&gt; 都行</p></blockquote><p>实现举例<br>&lt; img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzEwL3JLYUNucVQzdFJieGQ0bS5wbmc=">https://s2.loli.net/2021/12/10/rKaCnqT3tRbxd4m.png</span>&quot; alt=&quot;image-20211210203723811&quot; style=&quot;zoom:50%;&quot; /&gt;</p><p>出现拥塞时</p><blockquote><p>把 ssthresh 设置为当前值的一半</p><p>把 cwnd 重设为 1</p></blockquote></li></ul></li><li><p>快重传<br>要求接收方每收到一个失序的报文段后立即发出重复确认<br>发送方一连收到三个重复确认就立即重传未收到报文段</p></li><li><p>快恢复<br>当发送端收到连续三个重复确认时，把 ssthresh 设置为当前一半，但接下去不执行慢开始 / 慢启动算法，而是将 cwnd 设置为 ssthresh 减半后数值，然后开始执行拥塞避免算法<br>&lt; img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzEwLzNvVFhHQms0VmR2QVF1Zi5wbmc=">https://s2.loli.net/2021/12/10/3oTXGBk4VdvAQuf.png</span>&quot; alt=&quot;image-20211210204852460&quot; style=&quot;zoom:67%;&quot; /&gt;</p></li></ol></blockquote><h2 id="4网络层"><a class="anchor" href="#4网络层">#</a> 4. 网络层</h2><h3 id="41网络层的功能"><a class="anchor" href="#41网络层的功能">#</a> 4.1 网络层的功能</h3><p>在发送端，将分组封装成数据报</p><p>在接收端，把数据报上传到传输层</p><p>路由器检查每个通过它的数据报</p><h5 id="两个关键功能"><a class="anchor" href="#两个关键功能">#</a> 两个关键功能</h5><blockquote><p>转发 - 将分组从路由器的输入端口移动到输出端口</p><p>路由 - 决定分组从源主机到目的主机所采用的设备</p></blockquote><h5 id="网络层服务模型我觉得没什么考的必要"><a class="anchor" href="#网络层服务模型我觉得没什么考的必要">#</a> 网络层服务模型 (我觉得没什么考的必要)</h5><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzEwLzdTc3dDMnFGUWhnQjNvZC5wbmc=">https://s2.loli.net/2021/12/10/7SswC2qFQhgB3od.png</span>&quot; alt=&quot;image-20211210212419693&quot; style=&quot;zoom:67%;&quot; /&gt;</p><h3 id="42网络层设备"><a class="anchor" href="#42网络层设备">#</a> 4.2 网络层设备</h3><h4 id="路由器"><a class="anchor" href="#路由器">#</a> 路由器</h4><h5 id="输入端口"><a class="anchor" href="#输入端口">#</a> 输入端口</h5><blockquote><p>物理层 - 比特级接收</p><p>链路层连接以太网</p><p>最后一层进行分散式交换 - 给定数据报目的地址，在输入端口中使用转发表查找输出端口<br>- 到达较快的话还会排队</p></blockquote><p>三种类型交换结构</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzExL1JxMmp5WnBKYkg0aTlBTy5wbmc=">https://s2.loli.net/2021/12/11/Rq2jyZpJbH4i9AO.png</span>&quot; alt=&quot;image-20211211103137804&quot; style=&quot;zoom:67%;&quot; /&gt;</p><p>输出端口</p><blockquote><p>当数据报来自比传输速率更快的交换结构时，需要 **&lt;u&gt; 缓存 &lt;/u&gt;**</p><p>&lt;u&gt;<strong> 调度安排</strong> &lt;/u&gt;- 在排队的数据报中选择要传输的数据报</p></blockquote><h3 id="43ip"><a class="anchor" href="#43ip">#</a> 4.3IP</h3><p>链路层之上，传输层之下</p><h4 id="431ipv4分组"><a class="anchor" href="#431ipv4分组">#</a> 4.3.1IPv4 分组</h4><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzExL1ZJeVFTZktvbUxUSmkxRS5wbmc=">https://s2.loli.net/2021/12/11/VIyQSfKomLTJi1E.png</span>&quot; alt=&quot;image-20211211103434802&quot; style=&quot;zoom: 50%;&quot; /&gt;</p><h5 id="首部字段解释"><a class="anchor" href="#首部字段解释">#</a> 首部字段解释</h5><blockquote><p>总长度 - 首部和数据之和的长度，最大为 65535</p><p>标识 - 计数器，产生数据报标识</p><p>标志 - 3bit, 最低位 (M (ore) F (ragment) 等于一代表还有分片，等于 0 代表没有分片，<br>中间一位 = 0 才允许分片 (D (ont) F (ragment))</p><p>片偏移 - 13bit, 指出分片后该片在原分组中的相对位置，以 8 个字节为偏移单位</p><h5 id="ip分片和重组"><a class="anchor" href="#ip分片和重组">#</a> IP 分片和重组</h5><p>为什么分片 - 链路有最大传输单元，不同链路 MTU 不同</p><p>样例</p><p>&lt;img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzExLzd6dUhLTUVBQlAxanBYOS5wbmc=">https://s2.loli.net/2021/12/11/7zuHKMEABP1jpX9.png</span>&quot; alt=&quot;image-20211211104103771&quot; style=&quot;zoom:67%;&quot; /&gt;</p><p>生存时间 (TTL time to live) 限制数据报在网络中的生存时间，每经过一个路由器，TTL-1</p><p>协议 - 数据部分协议 (TCP/UDP/IPV6 等等) 不一定是 &lt; u &gt; 上层，&lt;/u&gt;</p><p>首部校验和 - 只检验首部</p><blockquote><p><img data-src="https://s2.loli.net/2021/12/11/5hrMJg1ezbuwcG4.png" alt="image-20211211104807155"></p></blockquote></blockquote><h4 id="432ipv4地址"><a class="anchor" href="#432ipv4地址">#</a> 4.3.2IPv4 地址</h4><p>ip 地址 - 32 位的主机 / 交换机标识号</p><p>接口 interface - 主机 / 路由器与物理链路之间的链接</p><blockquote><p>交换机有很多个 interface</p><p>主机一般就一两个</p><p>Ip 地址与每个接口相关联</p></blockquote><h5 id="子网"><a class="anchor" href="#子网">#</a> 子网</h5><p>设备接口 Ip 地址的子网部分相同</p><p>可以物理上直接联系，不用经过交换机</p><h5 id="计算可用的主机地址"><a class="anchor" href="#计算可用的主机地址">#</a> 计算可用的主机地址</h5><p>主机部分全 0: 网络地址</p><p>主机部分全 1: 广播地址</p><p>上两个不能设置为主机地址</p><h5 id="子网掩码"><a class="anchor" href="#子网掩码">#</a> 子网掩码</h5><p>/n 表示子网掩码位数为 n</p><p>x.y.z.a, 点分十进制形式表示 32bit IP 地址中哪些事子网部分</p><h5 id="ip地址分配方案"><a class="anchor" href="#ip地址分配方案">#</a> IP 地址分配方案</h5><ol><li><p>子网位数固定 - 分类 IP 地址</p></li><li><p>不固定 --CIDR (无类域间路由)</p><blockquote><p>子网部分被称为网络前缀，前缀部分任意长</p><p>使用斜线记法</p><p>路由表中每个项目由 &quot;网络前缀&quot; 和 &quot;下一跳地址&quot; 组成，查找路由表时可能会得到不止一个匹配结果，因此引出下面内容</p><h6 id="最长前缀匹配"><a class="anchor" href="#最长前缀匹配">#</a> 最长前缀匹配</h6><p>举例</p><p><img data-src="https://s2.loli.net/2021/12/11/l9C2phSQBAz4OHm.png" alt="image-20211211134931698"></p><h6 id="cidr子网划分"><a class="anchor" href="#cidr子网划分">#</a> CIDR 子网划分 ***</h6><p>把一个大网络分成多个小网络，用路由器把这些小网络连接起来</p><blockquote><p>使用子网掩码 255.255.255.192 (/26) 对网络<br>192.168.10.0/24 进行子网划分，请回答如下问题 :<br>– (1) 子网数？</p><p>192 为二进制 11000000，即 22 = 4 个子网；</p><p>– (2) 每个子网中可以容纳的主机数？</p><p>26 -2 =62 个主机；</p><p>– (3) 哪些是合法的子网地址？</p><p>每个子网的地址块大小为 26 =64，子<br>网地址的第 4 个字节从 0 开始以 64 递增，即：192.168.10.0、<br>192.168.10.64、192.168.10.128、192.168.10.192</p><p>– (4) 每个子网的广播地址？</p><p>– (5) 哪些是合法的主机地址？</p><p>子网地址 (192.168.10.) 0 64 128 192<br>第一个主机地址 (192.168.10.) 1 65 129 193<br>最后一个主机地址 (192.168.10.) 62 126 190 254<br>广播地址 (192.168.10.) 63 127 191 255</p></blockquote></blockquote></li></ol><h4 id="433ip分组转发"><a class="anchor" href="#433ip分组转发">#</a> 4.3.3IP 分组转发</h4><p>网络层基于目的地址分组转发</p><p>下图一了百了</p><p><img data-src="https://s2.loli.net/2021/12/11/vrUGaPkfJExzdCZ.png" alt="image-20211211140706891"></p><p>转发算法</p><blockquote><ol><li><p>从收到分组的首部获得目的 IP-&gt;<strong>D</strong></p></li><li><p>判断是否在同一网络上</p><blockquote><p>用子网掩码和<strong> D</strong> 逐位相与，看看是不是和 **&lt;u&gt; 相应的网络地址 &lt;/u&gt;** 匹配，匹配就直接发过去</p></blockquote></li><li><p>若路由表中有目的为 D 的<strong>特定主机路由</strong>，则将分组传送给指明的下一跳路由器，<br>否则执行 4</p></li><li><p>对路由表每行的子网掩码和 D 逐位相与，若结果与该行的目的网络地址匹配，就传送到下一跳<br>否则，执行 5</p></li><li><p>若路由表有默认路由，则将其传送给它，<br>否则执行 6</p></li><li><p>报告转发分组出错</p></li></ol></blockquote><h4 id="434dhcp动态主机配置协议协议"><a class="anchor" href="#434dhcp动态主机配置协议协议">#</a> 4.3.4DHCP (动态主机配置协议) 协议</h4><p>Q.A</p><blockquote><p>主机如何获得 IP 地址</p><ul><li>管理员硬编码</li></ul><p>网络怎样得到 IP 地址的子网</p><ul><li>从其 ISP 的地址空间中得到分配的部分</li></ul><p>ISP 如何获得地址块</p><ul><li>ICANN (因特网名字与号码分配公司)</li></ul></blockquote><h6 id="dhcp目的-使主机能够动态获取服务器的ip地址当它加入网络时"><a class="anchor" href="#dhcp目的-使主机能够动态获取服务器的ip地址当它加入网络时">#</a> DHCP 目的：使主机能够动态获取服务器的 IP 地址 (当它加入网络时)</h6><p>示意图</p><p><img data-src="https://s2.loli.net/2021/12/11/nlAa7d6vSw4V5qH.png" alt="image-20211211142745600"></p><h4 id="435nat不考"><a class="anchor" href="#435nat不考">#</a> 4.3.5NAT [不考]</h4><h4 id="436ipv6不考"><a class="anchor" href="#436ipv6不考">#</a> 4.3.6IPv6 [不考]</h4><h3 id="44路由算法"><a class="anchor" href="#44路由算法">#</a> 4.4 路由算法</h3><blockquote><p>路由算法用于选择从源主机到目的主机的最佳路径</p><p>是产生路由表的算法 (找到开销最小的路径)</p><p>分类</p><blockquote><p>静态路由：路由随时间缓慢变化</p><p>动态路由：更快地变化，周期性更新，适应链路开销变化</p></blockquote></blockquote><h4 id="441距离向量路由算法"><a class="anchor" href="#441距离向量路由算法">#</a> 4.4.1 距离向量路由算法</h4><h5 id="bellman-ford方程"><a class="anchor" href="#bellman-ford方程">#</a> Bellman-Ford 方程</h5><blockquote><p>定义<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d_x(y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="mclose">)</span></span></span></span>= 从 x 到 y 的最小开销路径的开销</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">c(x,v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">c</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal" style="margin-right:.03588em">v</span><span class="mclose">)</span></span></span></span>= 从 x 到邻居节点 v 的链路的开销</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>i</mi><msub><mi>n</mi><mi>v</mi></msub><mo stretchy="false">{</mo><mi>c</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>+</mo><msub><mi>d</mi><mi>v</mi></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">d_x(y)=min_v\{c(x,v)+d_v(y)\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03588em">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">{</span><span class="mord mathnormal">c</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal" style="margin-right:.03588em">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03588em">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="mclose">)</span><span class="mclose">}</span></span></span></span> ,min 针对 x 的所有邻居</p></blockquote><p>取值最小的结点对应最短路径中的下一跳 -&gt; 转发表</p><h5 id="过程"><a class="anchor" href="#过程">#</a> 过程</h5><blockquote><p>结点 x 维护距离向量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mi>x</mi></msub><mo>=</mo><mo stretchy="false">[</mo><msub><mi>d</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>:</mo><mi>y</mi><mo>∈</mo><mi>N</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">D_x=[d_x(y):y\in N]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.7335400000000001em;vertical-align:-.19444em"></span><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="mclose">]</span></span></span></span></p><ul><li>如果 y 不是 x 的邻居，则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mtext>否则</mtext><msub><mi>d</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>c</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d_x(y)=\infin,否则d_x(y)=c(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord cjk_fallback">否</span><span class="mord cjk_fallback">则</span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">c</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="mclose">)</span></span></span></span></li></ul><p>每个节点周期性向邻居节点发送自己的距离向量，节点 x 保存其邻居节点的距离向量</p><p>当结点 x 收到来自邻居的新距离向量，它使用 B-F 方程更新自己的 DV</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>←</mo><mi>m</mi><mi>i</mi><msub><mi>n</mi><mi>v</mi></msub><mo stretchy="false">{</mo><mi>c</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>v</mi><mo>+</mo><msub><mi>D</mi><mi>v</mi></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo><mi>f</mi><mi>o</mi><mi>r</mi><mi>e</mi><mi>a</mi><mi>c</mi><mi>h</mi><mi>n</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>y</mi><mo>∈</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">D_x(y)\gets min_v\{c(x,v+D_v(y)\} for each node y\in N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">←</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03588em">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">{</span><span class="mord mathnormal">c</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal" style="margin-right:.03588em">v</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.02778em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03588em">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="mclose">)</span><span class="mclose">}</span><span class="mord mathnormal" style="margin-right:.10764em">f</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:.02778em">r</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal">h</span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:.03588em">y</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span></li></ul></blockquote><p>示例</p><p><img data-src="https://s2.loli.net/2021/12/11/x75AVi8BThZJcHy.png" alt="image-20211211144152548"></p><h4 id="444链路状态路由算法"><a class="anchor" href="#444链路状态路由算法">#</a> 4.4.4 链路状态路由算法</h4><blockquote><ol><li>发现邻居，学习网络地址</li><li>测量到每一个邻居的时延</li><li>构造一个分组来通告学习到的信息</li><li>向所有路由器发哦送分组</li><li>计算到其他路由器的最短路径</li></ol></blockquote><h5 id="使用dijkstra算法计算最短路径"><a class="anchor" href="#使用dijkstra算法计算最短路径">#</a> 使用 Dijkstra 算法计算最短路径</h5><p>循环:</p><blockquote><p>从可达节点中找到最近的，加入当前节点组</p><p>更新其他节点距离</p><p>当当前节点组为全部节点时退出</p></blockquote><h3 id="45路由协议"><a class="anchor" href="#45路由协议">#</a> 4.5 路由协议</h3><p>目的：使路由选择是可计算的</p><blockquote><p>有巨量的 router</p></blockquote><ul><li>构建自治系统<br>自治系统内 OSPF<br>自治系统间 BGP</li></ul><h4 id="451ospfopen-shortest-path-first"><a class="anchor" href="#451ospfopen-shortest-path-first">#</a> 4.5.1OSPF(Open Shortest Path First)</h4><p>开放最短路径优先</p><p>使用 &lt;u&gt; 链路状态算法 &lt;/u&gt;</p><p>通告散布到整个自治系统</p><h5 id="特点"><a class="anchor" href="#特点">#</a> 特点</h5><ul><li><p>安全性 - 所有 OSPF 信息经过鉴别</p></li><li><p>允许使用多条开销相同的路径</p></li><li><p>对每条链路，为不同的服务类型设置多种开销度量</p></li><li><p>集成的单播和多播支持</p></li><li><p>在大域中使用层次 OSPF</p><blockquote><h6 id="层次ospf"><a class="anchor" href="#层次ospf">#</a> 层次 OSPF</h6><ul><li>两级层次 - 本地 + 主干<br>仅在本地通告链路状态<br>每个节点具有详细的区域拓扑<br>仅知道其他区域中网络的方向</li><li>区域边界路由器<br>总结到自己区域中网络的距离，向其他区域的边界路由器通告</li><li>主干路由器<br>在主干范围内运行 OSPF 路由</li><li>边界路由器<br>连接到其他自治系统</li></ul></blockquote></li></ul><h5 id="报文格式"><a class="anchor" href="#报文格式">#</a> 报文格式</h5><p><img data-src="https://s2.loli.net/2021/12/11/amGulnPEFWbYLeS.png" alt="image-20211211150427755"></p><h4 id="452bgp"><a class="anchor" href="#452bgp">#</a> 4.5.2BGP</h4><p>Border Gateway Protocol 边界网关协议</p><p>提供功能</p><blockquote><ol><li>eBGP: 从相邻 AS (自治系统) 获得子网可达性信息</li><li>iBGP: 向 AS 内部的所有路由器传播可达性信息<br>如下图<br>&lt; img src=&quot;<span class="exturl" data-url="aHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIxLzEyLzExL29Kd2c2S05VY3Z1cjhJWS5wbmc=">https://s2.loli.net/2021/12/11/oJwg6KNUcvur8IY.png</span>&quot; alt=&quot;image-20211211150833119&quot; style=&quot;zoom:50%;&quot; /&gt;</li><li>根据可达性信息和策略，决定到子网的 &quot;好&quot; 路由</li></ol></blockquote><p>允许子网向因特网其余部分通告它的存在</p><p>两个 BGP 路由器通过半永久 TCP 连接交换 BGP 报文</p><p>两个重要的属性</p><blockquote><p>AS-PATH</p></blockquote><h3 id="46icmp协议不考"><a class="anchor" href="#46icmp协议不考">#</a> 4.6ICMP 协议 [不考]</h3><h3 id="47snmp协议不考"><a class="anchor" href="#47snmp协议不考">#</a> 4.7SNMP 协议 [不考]</h3><h2 id="5-数据链路层"><a class="anchor" href="#5-数据链路层">#</a> 5. 数据链路层</h2><h3 id="51数据链路层的功能"><a class="anchor" href="#51数据链路层的功能">#</a> 5.1 数据链路层的功能</h3><blockquote><p>将数据报从一个节点经过一条链路传输到相邻节点</p><p>组帧 - 将数据报封装进帧，加上首部和尾部</p><p>链路接入 - 控制信道接入</p><p>相邻节点间可靠交付</p><p>检错</p><p>纠错</p></blockquote><h3 id="52差错控制"><a class="anchor" href="#52差错控制">#</a> 5.2 差错控制</h3><p>通过通信信道接收的数据和发送的数据不一致的现象 - 传输差错，简称差错</p><h4 id="521检错编码"><a class="anchor" href="#521检错编码">#</a> 5.2.1 检错编码</h4><p>检错</p><blockquote><p>接收方能够推断发生了错误，要求重传</p><p>用于高可靠信道 - 光纤</p><ul><li><p>单比特奇偶校验</p><blockquote><p>增加冗余位使码字中 1 的个数恒为奇数 / 偶数</p><p>能够检测 &lt;u&gt; 奇数个 &lt;/u &gt; 比特差错</p><p>分为垂直奇偶校验和水平奇偶校验</p></blockquote></li><li><p>因特网校验和</p></li><li><p>循环冗余校验<br>直接看例子</p></li><li><p><img data-src="https://s2.loli.net/2021/12/11/zCrwOTbYQKoB2cq.png" alt="image-20211211155209760"></p></li><li><p><img data-src="https://s2.loli.net/2021/12/11/xNYocvzXsdl7ViL.png" alt="image-20211211155153041"></p></li></ul></blockquote><h4 id="522纠错编码不考"><a class="anchor" href="#522纠错编码不考">#</a> 5.2.2 纠错编码 [不考]</h4><p>纠错</p><blockquote><p>接收方能够推断发送过来的原始数据是什么</p><p>用于易出错信道</p><ul><li>二维奇偶校验 - 能够检测并纠正单比特</li></ul></blockquote><h3 id="53介质访问控制"><a class="anchor" href="#53介质访问控制">#</a> 5.3 介质访问控制</h3><h4 id="531信道划分"><a class="anchor" href="#531信道划分">#</a> 5.3.1 信道划分</h4><p>将信道划分为较小的片</p><h5 id="时分多路复用tdm"><a class="anchor" href="#时分多路复用tdm">#</a> 时分多路复用 TDM</h5><p>将时间划分为一段段等长的时分复用帧，每个用户在每个镇中占用固定序号的时隙</p><p>一目了然</p><p><img data-src="https://s2.loli.net/2021/12/11/ft9ioG7zkQbJyeS.png" alt="image-20211211182642055"></p><h5 id="频分多路复用fdm"><a class="anchor" href="#频分多路复用fdm">#</a> 频分多路复用 FDM</h5><p>用户分配到频带后，在通信过程中始终占用该频带</p><p>不同用户同时间占用不同的 (频率) 带宽资源</p><p><img data-src="https://s2.loli.net/2021/12/11/xsLCh2dnT7yPcBR.png" alt="image-20211211182751192"></p><h5 id="波分多路复用wdm"><a class="anchor" href="#波分多路复用wdm">#</a> 波分多路复用 WDM</h5><p>就是光纤上的频分多路复用</p><h5 id="码分多路复用cdma"><a class="anchor" href="#码分多路复用cdma">#</a> 码分多路复用 CDMA</h5><ul><li><p>用于无线广播信道中</p></li><li><p>为每个用户分配唯一的码型，所有用户共享相同的频率，但每个用户用自己的码片序列对数据进行编码</p></li><li><p>抗干扰 / 抗发现性较好</p></li><li><p>编码信号 =(原始数据) X (码片序列)</p></li><li><p>解码 = 编码信号和码片序列的内积</p></li></ul><h6 id="码片序列"><a class="anchor" href="#码片序列">#</a> 码片序列</h6><p>每一比特时间划分为一个唯一的 m bit 码片序列</p><blockquote><p>要发送 1, 则发送码片序列<br>发送 0, 则发送二进制反码</p></blockquote><h6 id="码片序列的正交关系"><a class="anchor" href="#码片序列的正交关系">#</a> 码片序列的正交关系</h6><p>两个不同站的码片序列正交</p><p>也就是说，二者规格化内积为 0 (每位相互乘累积后为 0)</p><h6 id="工作原理"><a class="anchor" href="#工作原理">#</a> 工作原理</h6><p><img data-src="https://s2.loli.net/2021/12/11/CtEYRu6b4eZy9BV.png" alt="image-20211211183405643"></p><h4 id="532随机访问"><a class="anchor" href="#532随机访问">#</a> 5.3.2 随机访问</h4><p>不划分信道，允许冲突，全速率传输</p><p>从冲突中恢复</p><h6 id="时隙alohaslotted-aloha-极限37效率"><a class="anchor" href="#时隙alohaslotted-aloha-极限37效率">#</a> 时隙 ALOHA (slotted ALOHA)- 极限 37% 效率</h6><p>假设</p><blockquote><p>所有帧长度相同</p><p>时间划分为等长间隙，能传输一个帧</p><p>结点仅在时隙开始时开始传输帧</p><p>如果 2 + 结点同时传输，所有结点检测到冲突</p></blockquote><p>工作原理</p><blockquote><p>有新帧，在下一个时隙传输</p><p>无冲突，直接发送</p><p>有冲突，在之后的每个后继时隙中以概率 p 重新传送</p></blockquote><h6 id="纯alohapure-aloha-极限18效率"><a class="anchor" href="#纯alohapure-aloha-极限18效率">#</a> 纯 ALOHA (pure ALOHA)- 极限 18% 效率</h6><p>削弱版时隙 ALOHA</p><p>帧到达立马传输，有冲突则等待一段随机时间开始传输</p><h6 id="csma-载波侦听多路访问"><a class="anchor" href="#csma-载波侦听多路访问">#</a> CSMA 载波侦听多路访问</h6><p>思想</p><blockquote><p>在传输前侦听</p><ul><li>信道空闲：传输整个帧</li><li>信道忙；推迟传输 (下列三种推迟策略)<ol><li>等待信道空闲 (1 - 坚持)</li><li>等待随机时间 (非坚持)</li><li>等待空闲，然后概率 p 发送 (p - 坚持)</li></ol></li></ul></blockquote><p>传播时延的冲突</p><blockquote><p>信道非真正空闲</p><p>争用期 / 冲突窗口：端到端往返时延 2<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>τ</mi></mrow><annotation encoding="application/x-tex">\tau</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.1132em">τ</span></span></span></span></p><p>只有争用期没检测到冲突才能肯定此次发送不会产生冲突</p><p>每个发送数据帧的结点，需要经过争用期才能确保这次发送不会产生冲突</p></blockquote><h6 id="csmacd-载波侦听多路访问冲突检测"><a class="anchor" href="#csmacd-载波侦听多路访问冲突检测">#</a> CSMA/CD 载波侦听多路访问 + 冲突检测</h6><p>CD:Collision Detection</p><p>使用 CSMA 协议进行数据发送</p><p>发送过程中一直侦听信道 &lt;u&gt;(冲突检测)&lt;/u&gt;</p><p>检测到冲突则立即停止发送，并等待一段随机时间，再侦听</p><p><img data-src="https://s2.loli.net/2021/12/11/Kj8XsLIzrTwmJih.png" alt="image-20211211193703174"></p><p>为了在发送时能检测到可能存在的冲突，CSMA.CD 要求所有数据帧都必须大于最小帧长 (2<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>τ</mi></mrow><annotation encoding="application/x-tex">\tau</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.1132em">τ</span></span></span></span> * 数据传输速率)</p><h6 id="csmaca"><a class="anchor" href="#csmaca">#</a> CSMA/CA</h6><p>IEEE802 无线局域网所用的多路访问协议，参考后续</p><h4 id="533轮流访问不考"><a class="anchor" href="#533轮流访问不考">#</a> 5.3.3 轮流访问 [不考]</h4><p>节点轮流发送，但有更多信息要发送的节点能够占用更 长的时间</p><h3 id="54局域网lan"><a class="anchor" href="#54局域网lan">#</a> 5.4 局域网 (LAN)</h3><h4 id="541局域网的基本概念与体系结构"><a class="anchor" href="#541局域网的基本概念与体系结构">#</a> 5.4.1 局域网的基本概念与体系结构</h4><p>集中在一个地理区域中的计算机网络</p><p>属性</p><ul><li>范围限制</li><li>传输技术</li><li>拓扑结构</li></ul><h5 id="ieee802参考模型-只相当于链路层和物理层"><a class="anchor" href="#ieee802参考模型-只相当于链路层和物理层">#</a> IEEE802 参考模型 - 只相当于链路层和物理层</h5><p><img data-src="https://s2.loli.net/2021/12/11/WNJSFu2D7a9b5Y3.png" alt="image-20211211194132210"></p><p>LLC 保证传输正确性</p><p>MAC 解决共享信道访问</p><h4 id="542链路层寻址与arp协议"><a class="anchor" href="#542链路层寻址与arp协议">#</a> 5.4.2 链路层寻址与 ARP 协议</h4><p>MAC 地址 / LAN 地址 / 物理地址</p><ul><li>将数据报从一个接口传送到物理上相互连接的另一个接口</li><li>网络层及以上用 IP 地址，链路层及以下用硬件地址</li></ul><h5 id="arp地址解析协议"><a class="anchor" href="#arp地址解析协议">#</a> ARP: 地址解析协议</h5><p>每个主机上设有 ARP 高速缓存，里面有所在局域网上各主机和路由器的 IP 地址到硬件地址的 &lt;u&gt; 映射表 &lt;/u&gt;</p><p>A 想向 B 发数据，先查看 ARP 中有无 B 的 IP, 如果有，就查出它的硬件地址，再将其发送</p><p>没有，则运行 ARP 来找到 B 的硬件地址</p><p>即主机 A 向所有主机广播请求，目的主机对主机 A 直接回应，同时将主机 A 的地址映射到自己的高速缓存中</p><p><img data-src="https://s2.loli.net/2021/12/11/OkLXE5xsCpnF7KN.png" alt="image-20211211194645026"></p><p>ARP 四种情况</p><blockquote><p>主机 -&gt; 本网络上另一个主机 ARP 找到目的硬件地址</p><p>主机 -&gt; 另一个网络上的主机 ARP 找到本网络一个路由器地址</p><p>路由器 -&gt; 本网络主机 ARP 找到目的主机的硬件地址</p><p>路由器 -&gt; 另一个网络主机 ARP 找到本网络上另一个路由器硬件地址</p></blockquote><h4 id="543以太网与ieee8023"><a class="anchor" href="#543以太网与ieee8023">#</a> 5.4.3 以太网与 IEEE802.3</h4><p>星型拓扑结构</p><ul><li><p>中心是交换机</p></li><li><p>节点间不冲突</p></li></ul><h5 id="以太网帧结构"><a class="anchor" href="#以太网帧结构">#</a> 以太网帧结构</h5><p><img data-src="https://s2.loli.net/2021/12/11/7JqZxaLi4CO51MA.png" alt="image-20211211200110878"></p><p>目的地址:</p><blockquote><p>第一位 0: 单节点接收</p><p>1: 被一组节点接收</p><p>全 1: 广播</p></blockquote><p>校验字段</p><p>32 位 CRC 校验 (范围：目的地址，源地址，类型，数据)</p><p>数据字段：最小长度为 46B, 小于 46 则填充，但这些填充不计入长度字段值中<br>最大长度为 1500B</p><p>因此 Ethernet 帧最小长度 64B, 最大 1518B</p><h5 id="以太网特点"><a class="anchor" href="#以太网特点">#</a> 以太网特点</h5><p>不可信 (接收方不发送 ACK 之类的)</p><p>无连接 (无握手)</p><p>MAC 控制:</p><h5 id="以太网的csmacd"><a class="anchor" href="#以太网的csmacd">#</a> 以太网的 CSMA/CD</h5><p>将之前的强化冲突方式，设置为使用 &lt;u&gt; 二进制指数退避 &lt;/u&gt;</p><ul><li>在第 m 号冲突后 NIC 选择<ruby>0,1,2,...$2<rp>(</rp><rt>{m-1</rt><rp>)</rp></ruby>$ 中的随机一个数 K</li><li>然后等待 K*512 bit 时间</li></ul><h4 id="544无线局域网与ieee80211不考"><a class="anchor" href="#544无线局域网与ieee80211不考">#</a> 5.4.4 无线局域网与 IEEE802.11 [不考]</h4><p>无线网的介质访问控制</p><p>特点：无法获得冲突信息</p><p>目的：避免冲突</p><p>方式</p><blockquote><p>物理层执行信道载波侦听</p><p>信道空闲 -- 源节点等待 DIFS 后，仍然空闲，则发送一帧，然后等待 ACK 帧</p><p>目的节点在收到正确的数据帧的 SIFS 时间后，向源节点发送 ACK 帧</p></blockquote><h6 id="csmaca-2"><a class="anchor" href="#csmaca-2">#</a> CSMA/CA</h6><p>允许发送端预订信道</p><ul><li>发送端发送请求帧到 AP</li><li>AP 广播允许发送 (CTS) 的回复</li><li>所有结点收到 CTS, 发送端发送</li></ul><h3 id="55数据链路层设备"><a class="anchor" href="#55数据链路层设备">#</a> 5.5 数据链路层设备</h3><h5 id="局域网交换机"><a class="anchor" href="#局域网交换机">#</a> 局域网交换机</h5><p>存储并转发以太网帧</p><p>特征：对主机透明 (即 ip 地址什么的和它无关)</p><p>自学习 -</p><blockquote><p>收到对应接口分组后记录对应接口 MAC 地址在自己对应接口上</p><p>如果发现目的接口没有，会洪泛 (将分组分发到所有接口上，等待回复)</p></blockquote><h6 id="冲突域vs广播域"><a class="anchor" href="#冲突域vs广播域">#</a> 冲突域 VS 广播域</h6><p>冲突域；网络的一部分，在其中会发生帧冲突 (当两个设备同时发送数据报)</p><p><img data-src="https://s2.loli.net/2021/12/09/PYFwpzouJ9VhBre.png" alt="image-20211209105458295"></p><p>广播域：包含了通过链路层广播能直接相互了解的所有设备</p><p><img data-src="https://s2.loli.net/2021/12/09/l7OfskCEuRYMqb6.png" alt="image-20211209105941059"></p><h5 id="虚拟局域网-为了防止过多的广播信息引起不便"><a class="anchor" href="#虚拟局域网-为了防止过多的广播信息引起不便">#</a> 虚拟局域网 -- 为了防止过多的广播信息引起不便</h5><p>虚拟局域网 VLAN 是由一些局域网网段构成的与物理位置无关的逻辑组</p><p>每一个 VLAN 的帧都有一个明确的标识符，指明发送这个帧的工作站是属于哪一个 VLAN。(在以太网帧中插入一个 4 字节的标识符，称为 VLAN 标记)</p><p><img data-src="https://s2.loli.net/2021/12/09/ier7sUByQbkouxL.png" alt="image-20211209110309425"></p><h2 id="6-物理层"><a class="anchor" href="#6-物理层">#</a> 6. 物理层</h2><h3 id="61通信基础"><a class="anchor" href="#61通信基础">#</a> 6.1 通信基础</h3><h4 id="611数据通信系统的基本概念"><a class="anchor" href="#611数据通信系统的基本概念">#</a> 6.1.1 数据通信系统的基本概念</h4><p>物理层目标：在通信信道上传输原始比特</p><p>确定与传输介质的接口的一些特性</p><ul><li>机械特性</li><li>电气特性</li><li>功能特性</li><li>过程特性</li></ul><h4 id="612编码与调制"><a class="anchor" href="#612编码与调制">#</a> 6.1.2 编码与调制</h4><h4 id="613奈奎斯特定理和香农定理"><a class="anchor" href="#613奈奎斯特定理和香农定理">#</a> 6.1.3 奈奎斯特定理和香农定理</h4><h3 id="62物理层设备"><a class="anchor" href="#62物理层设备">#</a> 6.2 物理层设备</h3><h3 id="集线器"><a class="anchor" href="#集线器">#</a> 集线器</h3><h2 id="7-综合"><a class="anchor" href="#7-综合">#</a> 7. 综合</h2><h3 id="71各层设备的广播域-冲突域及总结"><a class="anchor" href="#71各层设备的广播域-冲突域及总结">#</a> 7.1 各层设备的广播域、冲突域及总结</h3><h3 id="72web访问全过程"><a class="anchor" href="#72web访问全过程">#</a> 7.2Web 访问全过程</h3><div class="tags"><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag"><i class="ic i-tag"></i> 计算机网络</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">Edited on</span> <time title="Modified: 2021-12-16 09:55:55" itemprop="dateModified" datetime="2021-12-16T09:55:55+08:00">2021-12-16</time> </span><span id="2021/12/11/计算机网络复习/" class="item leancloud_visitors" data-flag-title="计算机网络复习" title="Views"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">Views</span> <span class="leancloud-visitors-count"></span> <span class="text">times</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> Donate</button><p>Give me a cup of [coffee]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="nmhn WeChat Pay"><p>WeChat Pay</p></div><div><img data-src="/images/alipay.png" alt="nmhn Alipay"><p>Alipay</p></div><div><img data-src="/images/paypal.png" alt="nmhn PayPal"><p>PayPal</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>nmhn <i class="ic i-at"><em>@</em></i>年没怀念 der 博客</li><li class="link"><strong>Post link: </strong><a href="http://example.com/2021/12/11/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%A4%8D%E4%B9%A0/" title="计算机网络复习">http://example.com/2021/12/11/计算机网络复习/</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> unless stating additionally.</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2021/12/09/%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;s2.loli.net&#x2F;2021&#x2F;12&#x2F;07&#x2F;yqMesoWNwGX1VKz.jpg" title="网络地址转换"><span class="type">Previous Post</span> <span class="category"><i class="ic i-flag"></i> 计算机网络</span><h3>网络地址转换</h3></a></div><div class="item right"><a href="/2021/12/19/2021-12-19-MC%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%AE%BE%E7%BD%AE/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;s2.loli.net&#x2F;2021&#x2F;12&#x2F;07&#x2F;yqMesoWNwGX1VKz.jpg" title="MC服务器设置"><span class="type">Next Post</span> <span class="category"><i class="ic i-flag"></i></span><h3>MC服务器设置</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%A1%E7%BD%91%E5%A4%8D%E4%B9%A0"><span class="toc-number">1.</span> <span class="toc-text">计网复习</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%A7%E7%BA%B2"><span class="toc-number">1.1.</span> <span class="toc-text">大纲</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.</span> <span class="toc-text">1. 计算机网络体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.1 计算机网络概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#111%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9A%84%E6%A6%82%E5%BF%B5-%E7%BB%84%E6%88%90"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">1.1.1 计算机网络的概念、组成</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#112%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">1.1.2 计算机网络的分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#113%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E4%BA%92%E8%81%94%E7%BD%91%E7%9A%84%E5%8F%91%E5%B1%95%E5%8E%86%E5%8F%B2%E4%B8%8D%E8%80%83"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">1.1.3 计算机网络与互联网的发展历史 [不考]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#114%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9A%84%E6%A0%87%E5%87%86%E5%8C%96%E5%B7%A5%E4%BD%9C%E5%8F%8A%E7%9B%B8%E5%85%B3%E7%BB%84%E7%BB%87%E4%B8%8D%E8%80%83"><span class="toc-number">1.2.1.4.</span> <span class="toc-text">1.1.4 计算机网络的标准化工作及相关组织 [不考]</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E4%B8%8E%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.2.2.</span> <span class="toc-text">1.2 计算机网络体系结构与参考模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#121%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%88%86%E5%B1%82%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">1.2.1 计算机网络分层结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#122%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E6%8E%A5%E5%8F%A3-%E6%9C%8D%E5%8A%A1%E7%AD%89%E6%A6%82%E5%BF%B5"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">1.2.2 计算机网络协议、接口、服务等概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#123isoosi%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B%E5%92%8Ctcpip%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">1.2.3ISO&#x2F;OSI 参考模型和 TCP&#x2F;IP 模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E4%B8%96%E7%BB%8F%E5%85%B8bushi-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E8%BF%87%E7%A8%8B%E4%B8%AD%E5%9C%A8%E5%90%84%E5%B1%82%E5%8F%91%E7%94%9F%E7%9A%84%E5%8F%98%E5%8C%96"><span class="toc-number">1.2.2.4.</span> <span class="toc-text">传世经典 (bushi)- 数据传输过程中在各层发生的变化</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-number">1.2.3.</span> <span class="toc-text">1.3 计算机网络性能指标</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%BA%94%E7%94%A8%E5%B1%82"><span class="toc-number">1.3.</span> <span class="toc-text">2. 应用层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#21-%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%8E%9F%E7%90%86"><span class="toc-number">1.3.1.</span> <span class="toc-text">2.1 应用层协议原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#211%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">2.1.1 网络应用程序的体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#client-servercs"><span class="toc-number">1.3.1.1.1.</span> <span class="toc-text">Client-Server(C&#x2F;S)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#peer-to-peerp2p"><span class="toc-number">1.3.1.1.2.</span> <span class="toc-text">Peer-to-Peer(P2P)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#212%E5%8F%AF%E4%BE%9B%E5%BA%94%E7%94%A8%E5%B1%82%E4%BD%BF%E7%94%A8%E7%9A%84%E4%BC%A0%E8%BE%93%E5%B1%82%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">2.1.2 可供应用层使用的传输层服务</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%A0%E7%89%B9%E7%BD%91%E4%BD%BF%E7%94%A8%E7%9A%84%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%92%8C%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.3.1.2.1.</span> <span class="toc-text">因特网使用的应用层协议和传输层协议</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.3.2.</span> <span class="toc-text">2.2 应用层协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#221web%E5%92%8Chttp"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">2.2.1Web 和 HTTP</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#http%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87"><span class="toc-number">1.3.2.1.1.</span> <span class="toc-text">HTTP 请求报文</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%97%A0%E7%8A%B6%E6%80%81statelessness%E5%92%8Ccookies"><span class="toc-number">1.3.2.1.2.</span> <span class="toc-text">无状态 (Statelessness) 和 Cookies</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#web%E7%BC%93%E5%AD%98-%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">1.3.2.1.3.</span> <span class="toc-text">Web 缓存 - 代理服务器</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#222ftp%E4%B8%8D%E8%80%83"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">2.2.2FTP [不考]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#223electronic-mailsmtp-pop3-imap"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">2.2.3Electronic Mail——SMTP, POP3, IMAP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#224dns-%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">2.2.4DNS 域名系统</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E5%B1%82%E6%AC%A1%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.3.2.4.1.</span> <span class="toc-text">分布式层次化数据库</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">1.3.2.4.2.</span> <span class="toc-text">本地域名服务器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E4%BE%8B%E5%AD%90"><span class="toc-number">1.3.2.4.3.</span> <span class="toc-text">域名解析例子</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#dns-protocol"><span class="toc-number">1.3.2.4.4.</span> <span class="toc-text">DNS Protocol</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#225p2p%E4%B8%8D%E8%80%83"><span class="toc-number">1.3.2.5.</span> <span class="toc-text">2.2.5P2P [不考]</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%8D%E8%80%83"><span class="toc-number">1.3.3.</span> <span class="toc-text">2.3 网络编程 [不考]</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-%E5%A5%97%E6%8E%A5%E5%AD%97%E4%B8%8D%E8%80%83"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">网络应用程序编程接口 - 套接字 [不考]</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="toc-number">1.4.</span> <span class="toc-text">3. 传输层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#31%E4%BC%A0%E8%BE%93%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.4.1.</span> <span class="toc-text">3.1 传输层提供的服务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#311%E4%BC%A0%E8%BE%93%E5%B1%82%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">3.1.1 传输层的功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#312%E6%97%A0%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E4%B8%8E%E9%9D%A2%E5%90%91%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">3.1.2 无连接服务与面向连接服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#313%E4%BC%A0%E8%BE%93%E5%B1%82%E5%AF%BB%E5%9D%80%E4%B8%8E%E7%AB%AF%E5%8F%A3"><span class="toc-number">1.4.1.3.</span> <span class="toc-text">3.1.3 传输层寻址与端口</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#32%E6%97%A0%E8%BF%9E%E6%8E%A5%E7%9A%84%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AEudp"><span class="toc-number">1.4.2.</span> <span class="toc-text">3.2 无连接的传输协议 ——UDP</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%89%B9%E5%BE%81"><span class="toc-number">1.4.2.0.1.</span> <span class="toc-text">特征</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#33%E5%8F%AF%E9%9D%A0%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">1.4.3.</span> <span class="toc-text">3.3 可靠数据传输的原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#331%E5%81%9C%E6%AD%A2-%E7%AD%89%E5%BE%85%E5%8D%8F%E8%AE%AEsw"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">3.3.1 停止 - 等待协议（SW）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%8F%8A%E8%AE%A1%E7%AE%97"><span class="toc-number">1.4.3.1.1.</span> <span class="toc-text">性能分析及计算</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#332%E5%9B%9E%E9%80%80n%E5%8D%8F%E8%AE%AEgbn"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">3.3.2 回退 N 协议（GBN）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#333%E9%80%89%E6%8B%A9%E9%87%8D%E4%BC%A0%E5%8D%8F%E8%AE%AEsr"><span class="toc-number">1.4.3.3.</span> <span class="toc-text">3.3.3 选择重传协议（SR）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#334%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%9C%BA%E5%88%B6%E5%8F%AF%E7%94%A8%E4%BA%8E%E5%AE%9E%E7%8E%B0%E4%B8%8D%E5%90%8C%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.4.3.4.</span> <span class="toc-text">3.3.4 滑动窗口机制（可用于实现不同可靠传输协议）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#34%E9%9D%A2%E5%90%91%E8%BF%9E%E6%8E%A5%E7%9A%84%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE-tcp"><span class="toc-number">1.4.4.</span> <span class="toc-text">3.4 面向连接的传输协议 —— TCP</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%BB%E8%A7%88"><span class="toc-number">1.4.4.0.1.</span> <span class="toc-text">总览</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#341tcp%E6%8A%A5%E6%96%87%E6%AE%B5"><span class="toc-number">1.4.4.1.</span> <span class="toc-text">3.4.1TCP 报文段</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%93%E6%9E%84"><span class="toc-number">1.4.4.1.1.</span> <span class="toc-text">结构</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#342tcp%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93"><span class="toc-number">1.4.4.2.</span> <span class="toc-text">3.4.2TCP 可靠传输</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#343tcp%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">1.4.4.3.</span> <span class="toc-text">3.4.3TCP 流量控制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#344tcp%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86%E4%B8%8D%E8%80%83"><span class="toc-number">1.4.4.4.</span> <span class="toc-text">3.4.4TCP 连接管理 [不考]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#345tcp%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="toc-number">1.4.4.5.</span> <span class="toc-text">3.4.5TCP 拥塞控制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%8E%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.4.4.5.1.</span> <span class="toc-text">与流量控制的区别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E6%96%B9%E6%B3%95"><span class="toc-number">1.4.4.5.2.</span> <span class="toc-text">拥塞控制方法</span></a></li></ol></li></ol></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">1.5.</span> <span class="toc-text">4. 网络层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#41%E7%BD%91%E7%BB%9C%E5%B1%82%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">1.5.1.</span> <span class="toc-text">4.1 网络层的功能</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E5%85%B3%E9%94%AE%E5%8A%9F%E8%83%BD"><span class="toc-number">1.5.1.0.1.</span> <span class="toc-text">两个关键功能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9E%8B%E6%88%91%E8%A7%89%E5%BE%97%E6%B2%A1%E4%BB%80%E4%B9%88%E8%80%83%E7%9A%84%E5%BF%85%E8%A6%81"><span class="toc-number">1.5.1.0.2.</span> <span class="toc-text">网络层服务模型 (我觉得没什么考的必要)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#42%E7%BD%91%E7%BB%9C%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="toc-number">1.5.2.</span> <span class="toc-text">4.2 网络层设备</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">路由器</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E7%AB%AF%E5%8F%A3"><span class="toc-number">1.5.2.1.1.</span> <span class="toc-text">输入端口</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#43ip"><span class="toc-number">1.5.3.</span> <span class="toc-text">4.3IP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#431ipv4%E5%88%86%E7%BB%84"><span class="toc-number">1.5.3.1.</span> <span class="toc-text">4.3.1IPv4 分组</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A6%96%E9%83%A8%E5%AD%97%E6%AE%B5%E8%A7%A3%E9%87%8A"><span class="toc-number">1.5.3.1.1.</span> <span class="toc-text">首部字段解释</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ip%E5%88%86%E7%89%87%E5%92%8C%E9%87%8D%E7%BB%84"><span class="toc-number">1.5.3.1.2.</span> <span class="toc-text">IP 分片和重组</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#432ipv4%E5%9C%B0%E5%9D%80"><span class="toc-number">1.5.3.2.</span> <span class="toc-text">4.3.2IPv4 地址</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%90%E7%BD%91"><span class="toc-number">1.5.3.2.1.</span> <span class="toc-text">子网</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%8F%AF%E7%94%A8%E7%9A%84%E4%B8%BB%E6%9C%BA%E5%9C%B0%E5%9D%80"><span class="toc-number">1.5.3.2.2.</span> <span class="toc-text">计算可用的主机地址</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81"><span class="toc-number">1.5.3.2.3.</span> <span class="toc-text">子网掩码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ip%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D%E6%96%B9%E6%A1%88"><span class="toc-number">1.5.3.2.4.</span> <span class="toc-text">IP 地址分配方案</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9C%80%E9%95%BF%E5%89%8D%E7%BC%80%E5%8C%B9%E9%85%8D"><span class="toc-number">1.5.3.2.4.1.</span> <span class="toc-text">最长前缀匹配</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#cidr%E5%AD%90%E7%BD%91%E5%88%92%E5%88%86"><span class="toc-number">1.5.3.2.4.2.</span> <span class="toc-text">CIDR 子网划分 ***</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#433ip%E5%88%86%E7%BB%84%E8%BD%AC%E5%8F%91"><span class="toc-number">1.5.3.3.</span> <span class="toc-text">4.3.3IP 分组转发</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#434dhcp%E5%8A%A8%E6%80%81%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE%E5%8D%8F%E8%AE%AE%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.5.3.4.</span> <span class="toc-text">4.3.4DHCP (动态主机配置协议) 协议</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#dhcp%E7%9B%AE%E7%9A%84-%E4%BD%BF%E4%B8%BB%E6%9C%BA%E8%83%BD%E5%A4%9F%E5%8A%A8%E6%80%81%E8%8E%B7%E5%8F%96%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84ip%E5%9C%B0%E5%9D%80%E5%BD%93%E5%AE%83%E5%8A%A0%E5%85%A5%E7%BD%91%E7%BB%9C%E6%97%B6"><span class="toc-number">1.5.3.4.0.1.</span> <span class="toc-text">DHCP 目的：使主机能够动态获取服务器的 IP 地址 (当它加入网络时)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#435nat%E4%B8%8D%E8%80%83"><span class="toc-number">1.5.3.5.</span> <span class="toc-text">4.3.5NAT [不考]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#436ipv6%E4%B8%8D%E8%80%83"><span class="toc-number">1.5.3.6.</span> <span class="toc-text">4.3.6IPv6 [不考]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#44%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95"><span class="toc-number">1.5.4.</span> <span class="toc-text">4.4 路由算法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#441%E8%B7%9D%E7%A6%BB%E5%90%91%E9%87%8F%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95"><span class="toc-number">1.5.4.1.</span> <span class="toc-text">4.4.1 距离向量路由算法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#bellman-ford%E6%96%B9%E7%A8%8B"><span class="toc-number">1.5.4.1.1.</span> <span class="toc-text">Bellman-Ford 方程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%87%E7%A8%8B"><span class="toc-number">1.5.4.1.2.</span> <span class="toc-text">过程</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#444%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95"><span class="toc-number">1.5.4.2.</span> <span class="toc-text">4.4.4 链路状态路由算法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8dijkstra%E7%AE%97%E6%B3%95%E8%AE%A1%E7%AE%97%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84"><span class="toc-number">1.5.4.2.1.</span> <span class="toc-text">使用 Dijkstra 算法计算最短路径</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#45%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.5.5.</span> <span class="toc-text">4.5 路由协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#451ospfopen-shortest-path-first"><span class="toc-number">1.5.5.1.</span> <span class="toc-text">4.5.1OSPF(Open Shortest Path First)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">1.5.5.1.1.</span> <span class="toc-text">特点</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B1%82%E6%AC%A1ospf"><span class="toc-number">1.5.5.1.1.1.</span> <span class="toc-text">层次 OSPF</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.5.5.1.2.</span> <span class="toc-text">报文格式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#452bgp"><span class="toc-number">1.5.5.2.</span> <span class="toc-text">4.5.2BGP</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#46icmp%E5%8D%8F%E8%AE%AE%E4%B8%8D%E8%80%83"><span class="toc-number">1.5.6.</span> <span class="toc-text">4.6ICMP 协议 [不考]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#47snmp%E5%8D%8F%E8%AE%AE%E4%B8%8D%E8%80%83"><span class="toc-number">1.5.7.</span> <span class="toc-text">4.7SNMP 协议 [不考]</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">1.6.</span> <span class="toc-text">5. 数据链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#51%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">1.6.1.</span> <span class="toc-text">5.1 数据链路层的功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#52%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6"><span class="toc-number">1.6.2.</span> <span class="toc-text">5.2 差错控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#521%E6%A3%80%E9%94%99%E7%BC%96%E7%A0%81"><span class="toc-number">1.6.2.1.</span> <span class="toc-text">5.2.1 检错编码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#522%E7%BA%A0%E9%94%99%E7%BC%96%E7%A0%81%E4%B8%8D%E8%80%83"><span class="toc-number">1.6.2.2.</span> <span class="toc-text">5.2.2 纠错编码 [不考]</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#53%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-number">1.6.3.</span> <span class="toc-text">5.3 介质访问控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#531%E4%BF%A1%E9%81%93%E5%88%92%E5%88%86"><span class="toc-number">1.6.3.1.</span> <span class="toc-text">5.3.1 信道划分</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%97%B6%E5%88%86%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8tdm"><span class="toc-number">1.6.3.1.1.</span> <span class="toc-text">时分多路复用 TDM</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A2%91%E5%88%86%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8fdm"><span class="toc-number">1.6.3.1.2.</span> <span class="toc-text">频分多路复用 FDM</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A2%E5%88%86%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8wdm"><span class="toc-number">1.6.3.1.3.</span> <span class="toc-text">波分多路复用 WDM</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A0%81%E5%88%86%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8cdma"><span class="toc-number">1.6.3.1.4.</span> <span class="toc-text">码分多路复用 CDMA</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%A0%81%E7%89%87%E5%BA%8F%E5%88%97"><span class="toc-number">1.6.3.1.4.1.</span> <span class="toc-text">码片序列</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%A0%81%E7%89%87%E5%BA%8F%E5%88%97%E7%9A%84%E6%AD%A3%E4%BA%A4%E5%85%B3%E7%B3%BB"><span class="toc-number">1.6.3.1.4.2.</span> <span class="toc-text">码片序列的正交关系</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">1.6.3.1.4.3.</span> <span class="toc-text">工作原理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#532%E9%9A%8F%E6%9C%BA%E8%AE%BF%E9%97%AE"><span class="toc-number">1.6.3.2.</span> <span class="toc-text">5.3.2 随机访问</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%97%B6%E9%9A%99alohaslotted-aloha-%E6%9E%81%E9%99%9037%E6%95%88%E7%8E%87"><span class="toc-number">1.6.3.2.0.1.</span> <span class="toc-text">时隙 ALOHA (slotted ALOHA)- 极限 37% 效率</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BA%AFalohapure-aloha-%E6%9E%81%E9%99%9018%E6%95%88%E7%8E%87"><span class="toc-number">1.6.3.2.0.2.</span> <span class="toc-text">纯 ALOHA (pure ALOHA)- 极限 18% 效率</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#csma-%E8%BD%BD%E6%B3%A2%E4%BE%A6%E5%90%AC%E5%A4%9A%E8%B7%AF%E8%AE%BF%E9%97%AE"><span class="toc-number">1.6.3.2.0.3.</span> <span class="toc-text">CSMA 载波侦听多路访问</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#csmacd-%E8%BD%BD%E6%B3%A2%E4%BE%A6%E5%90%AC%E5%A4%9A%E8%B7%AF%E8%AE%BF%E9%97%AE%E5%86%B2%E7%AA%81%E6%A3%80%E6%B5%8B"><span class="toc-number">1.6.3.2.0.4.</span> <span class="toc-text">CSMA&#x2F;CD 载波侦听多路访问 + 冲突检测</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#csmaca"><span class="toc-number">1.6.3.2.0.5.</span> <span class="toc-text">CSMA&#x2F;CA</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#533%E8%BD%AE%E6%B5%81%E8%AE%BF%E9%97%AE%E4%B8%8D%E8%80%83"><span class="toc-number">1.6.3.3.</span> <span class="toc-text">5.3.3 轮流访问 [不考]</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#54%E5%B1%80%E5%9F%9F%E7%BD%91lan"><span class="toc-number">1.6.4.</span> <span class="toc-text">5.4 局域网 (LAN)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#541%E5%B1%80%E5%9F%9F%E7%BD%91%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E4%B8%8E%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.6.4.1.</span> <span class="toc-text">5.4.1 局域网的基本概念与体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#ieee802%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B-%E5%8F%AA%E7%9B%B8%E5%BD%93%E4%BA%8E%E9%93%BE%E8%B7%AF%E5%B1%82%E5%92%8C%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">1.6.4.1.1.</span> <span class="toc-text">IEEE802 参考模型 - 只相当于链路层和物理层</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#542%E9%93%BE%E8%B7%AF%E5%B1%82%E5%AF%BB%E5%9D%80%E4%B8%8Earp%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.6.4.2.</span> <span class="toc-text">5.4.2 链路层寻址与 ARP 协议</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#arp%E5%9C%B0%E5%9D%80%E8%A7%A3%E6%9E%90%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.6.4.2.1.</span> <span class="toc-text">ARP: 地址解析协议</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#543%E4%BB%A5%E5%A4%AA%E7%BD%91%E4%B8%8Eieee8023"><span class="toc-number">1.6.4.3.</span> <span class="toc-text">5.4.3 以太网与 IEEE802.3</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%B8%A7%E7%BB%93%E6%9E%84"><span class="toc-number">1.6.4.3.1.</span> <span class="toc-text">以太网帧结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E7%89%B9%E7%82%B9"><span class="toc-number">1.6.4.3.2.</span> <span class="toc-text">以太网特点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E7%9A%84csmacd"><span class="toc-number">1.6.4.3.3.</span> <span class="toc-text">以太网的 CSMA&#x2F;CD</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#544%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8Eieee80211%E4%B8%8D%E8%80%83"><span class="toc-number">1.6.4.4.</span> <span class="toc-text">5.4.4 无线局域网与 IEEE802.11 [不考]</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#csmaca-2"><span class="toc-number">1.6.4.4.0.1.</span> <span class="toc-text">CSMA&#x2F;CA</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#55%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="toc-number">1.6.5.</span> <span class="toc-text">5.5 数据链路层设备</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="toc-number">1.6.5.0.1.</span> <span class="toc-text">局域网交换机</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%86%B2%E7%AA%81%E5%9F%9Fvs%E5%B9%BF%E6%92%AD%E5%9F%9F"><span class="toc-number">1.6.5.0.1.1.</span> <span class="toc-text">冲突域 VS 广播域</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%B1%80%E5%9F%9F%E7%BD%91-%E4%B8%BA%E4%BA%86%E9%98%B2%E6%AD%A2%E8%BF%87%E5%A4%9A%E7%9A%84%E5%B9%BF%E6%92%AD%E4%BF%A1%E6%81%AF%E5%BC%95%E8%B5%B7%E4%B8%8D%E4%BE%BF"><span class="toc-number">1.6.5.0.2.</span> <span class="toc-text">虚拟局域网 -- 为了防止过多的广播信息引起不便</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">1.7.</span> <span class="toc-text">6. 物理层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#61%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80"><span class="toc-number">1.7.1.</span> <span class="toc-text">6.1 通信基础</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#611%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.7.1.1.</span> <span class="toc-text">6.1.1 数据通信系统的基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#612%E7%BC%96%E7%A0%81%E4%B8%8E%E8%B0%83%E5%88%B6"><span class="toc-number">1.7.1.2.</span> <span class="toc-text">6.1.2 编码与调制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#613%E5%A5%88%E5%A5%8E%E6%96%AF%E7%89%B9%E5%AE%9A%E7%90%86%E5%92%8C%E9%A6%99%E5%86%9C%E5%AE%9A%E7%90%86"><span class="toc-number">1.7.1.3.</span> <span class="toc-text">6.1.3 奈奎斯特定理和香农定理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#62%E7%89%A9%E7%90%86%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="toc-number">1.7.2.</span> <span class="toc-text">6.2 物理层设备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E7%BA%BF%E5%99%A8"><span class="toc-number">1.7.3.</span> <span class="toc-text">集线器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E7%BB%BC%E5%90%88"><span class="toc-number">1.8.</span> <span class="toc-text">7. 综合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#71%E5%90%84%E5%B1%82%E8%AE%BE%E5%A4%87%E7%9A%84%E5%B9%BF%E6%92%AD%E5%9F%9F-%E5%86%B2%E7%AA%81%E5%9F%9F%E5%8F%8A%E6%80%BB%E7%BB%93"><span class="toc-number">1.8.1.</span> <span class="toc-text">7.1 各层设备的广播域、冲突域及总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#72web%E8%AE%BF%E9%97%AE%E5%85%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">1.8.2.</span> <span class="toc-text">7.2Web 访问全过程</span></a></li></ol></li></div><div class="related panel pjax" data-title="Related"><ul><li><a href="/2021/12/09/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/" rel="bookmark" title="数据链路层">数据链路层</a></li><li><a href="/2021/12/09/%E7%BD%91%E7%BB%9C%E5%B1%82/" rel="bookmark" title="网络层">网络层</a></li><li><a href="/2021/12/09/%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2/" rel="bookmark" title="网络地址转换">网络地址转换</a></li><li class="active"><a href="/2021/12/11/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%A4%8D%E4%B9%A0/" rel="bookmark" title="计算机网络复习">计算机网络复习</a></li></ul></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="nmhn" data-src="/images/avatar.jpg"><p class="name" itemprop="name">nmhn</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">24</span> <span class="name">posts</span></a></div><div class="item categories"><a href="/categories/"><span class="count">6</span> <span class="name">categories</span></a></div><div class="item tags"><a href="/tags/"><span class="count">16</span> <span class="name">tags</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL25taG4=" title="https:&#x2F;&#x2F;github.com&#x2F;nmhn"><i class="ic i-github"></i></span> <a href="/1335894629@qq.com" title="1335894629@qq.com" class="item email"><i class="ic i-envelope"></i></a></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>Home</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2021/12/09/%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2021/12/19/2021-12-19-MC%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%AE%BE%E7%BD%AE/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/2021/12/06/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7/" title="Untitled">Untitled</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/03/09/%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/" title="白盒测试">白盒测试</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2021/12/06/hello-world/" title="Hello World">Hello World</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/junior/" title="In 大三">大三</a> <i class="ic i-angle-right"></i> <a href="/categories/junior/database/" title="In 数据库">数据库</a></div><span><a href="/2021/12/06/9.1%20%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%8C%E6%95%B4%E6%80%A7%E6%A6%82%E8%BF%B0/" title="21&#x2F;12&#x2F;6 Database 数据库完整性概述">21/12/6 Database 数据库完整性概述</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/junior/" title="In 大三">大三</a> <i class="ic i-angle-right"></i> <a href="/categories/junior/database/" title="In 数据库">数据库</a></div><span><a href="/2021/12/06/%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96/" title="21&#x2F;12&#x2F;6 Database 查询优化">21/12/6 Database 查询优化</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2022/03/11/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95/" title="黑盒测试">黑盒测试</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/junior/" title="In 大三">大三</a> <i class="ic i-angle-right"></i> <a href="/categories/junior/software/" title="In 软件">软件</a></div><span><a href="/2021/12/07/%E5%A4%8D%E4%B9%A0/" title="21&#x2F;12&#x2F;6 软件体系结构复习">21/12/6 软件体系结构复习</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/junior/" title="In 大三">大三</a> <i class="ic i-angle-right"></i> <a href="/categories/junior/computerSystem/" title="In 操作系统">操作系统</a></div><span><a href="/2021/12/07/%E5%A4%96%E8%AE%BE/" title="21&#x2F;12&#x2F;7 设备管理">21/12/7 设备管理</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/junior/" title="In 大三">大三</a> <i class="ic i-angle-right"></i> <a href="/categories/junior/computernetwork/" title="In 计算机网络">计算机网络</a></div><span><a href="/2021/12/11/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%A4%8D%E4%B9%A0/" title="计算机网络复习">计算机网络复习</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/junior/" title="In 大三">大三</a> <i class="ic i-angle-right"></i> <a href="/categories/junior/database/" title="In 数据库">数据库</a></div><span><a href="/2021/12/06/21-12-6-Database-exp-8/" title="21&#x2F;12&#x2F;6 Database exp 8">21/12/6 Database exp 8</a></span></li></ul></div><div><h2>Recent Comments</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">nmhn @ Nmhn</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="Symbols count total">NaNm words</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="Reading time total">NaN:aN</span></div><div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2021/12/11/计算机网络复习/",favicon:{show:"（●´3｀●）Goooood",hide:"(´Д｀)Booooom"},search:{placeholder:"Search for Posts",empty:"We didn't find any results for the search: ${query}",stats:"${hits} results found in ${time} ms"},valine:!0,fancybox:!0,copyright:'Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->